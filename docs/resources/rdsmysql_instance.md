---
page_title: "volcenginecc_rdsmysql_instance Resource - terraform-provider-volcenginecc"
subcategory: ""
description: |-
  云数据库 veDB MySQL 版采用计算存储分离架构，最多支持 500TiB 的超大容量结构化数据存储，单个数据库集群最多可扩展至 16 个计算节点。基于云原生数据库设计理念，云数据库 veDB MySQL 版既融合了商业数据库高性能、高可靠、高可用的特征，又具有开源数据库简单开放、快速迭代、高效扩展的优势。经过字节跳动集团关键业务场景的锤炼和行业 TOP 领域的经验积累，云数据库 veDB MySQL 版能够为企业提供安全可靠、性能优越、功能丰富的数据库服务。
---

# volcenginecc_rdsmysql_instance (Resource)

云数据库 veDB MySQL 版采用计算存储分离架构，最多支持 500TiB 的超大容量结构化数据存储，单个数据库集群最多可扩展至 16 个计算节点。基于云原生数据库设计理念，云数据库 veDB MySQL 版既融合了商业数据库高性能、高可靠、高可用的特征，又具有开源数据库简单开放、快速迭代、高效扩展的优势。经过字节跳动集团关键业务场景的锤炼和行业 TOP 领域的经验积累，云数据库 veDB MySQL 版能够为企业提供安全可靠、性能优越、功能丰富的数据库服务。

## Example Usage

```terraform
resource "volcenginecc_rdsmysql_instance" "RDSMySQLInstanceDemo" {
  deletion_protection = "Disabled"
  db_engine_version   = "MySQL_5_7"
  nodes = [
    {
      zone_id   = "cn-beijing-a"
      node_spec = "rds.mysql.c.s.1c2g"
    node_type = "Primary" },
    {
      zone_id   = "cn-beijing-a"
      node_spec = "rds.mysql.c.s.1c2g"
    node_type = "Secondary" },
    {
      zone_id   = "cn-beijing-a"
      node_spec = "rds.mysql.c.s.1c2g"
    node_type = "ReadOnly" }
  ]
  storage_type           = "CloudESSD_PL0"
  storage_space          = 100
  instance_type          = "DoubleNode"
  vpc_id                 = "vpc-rrco37ovjq4gv0x58xxxxx"
  subnet_id              = "subnet-rrwqhg3qzxfkv0x57xxxxx"
  instance_name          = "RDSMySQLInstanceDemo-按量计费"
  super_account_name     = "test_account"
  super_account_password = "***********"
  lower_case_table_names = "1"
  db_time_zone           = "UTC +08:00"
  charge_detail = {
    charge_type = "PostPaid"
    auto_renew  = false
    number      = 1
  }
  allow_list_ids = [
    "acl-8cde5e16f44143788234ca4489xxxxx",
    "acl-31f6053bd6be4cff88c1b205d20xxxxx"
  ]
  port = 3306
  maintenance_window = {
    day_kind = "Week"
    day_of_week = [
      "Monday"
    ]
    maintenance_time = "18:00Z-21:59Z"
  }
  auto_storage_scaling_config = {
    enable_storage_auto_scale = true
    storage_threshold         = 10
    storage_upper_bound       = 3000
  }
  project_name = "default"
  tags = [
    {
      key = "env"
    value = "test" }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `charge_detail` (Attributes) 付费方式。 (see [below for nested schema](#nestedatt--charge_detail))
- `db_engine_version` (String) 兼容版本。取值：MySQL_5_7：MySQL 5.7 版本。MySQL_8_0：MySQL 8.0 版本。
- `nodes` (Attributes Set) 实例节点信息。
 特别提示: 在使用 ListNestedAttribute 或 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--nodes))
- `storage_space` (Number) 实例总存储空间。单位为 GB。
- `storage_type` (String) 实例的存储类型。取值范围：LocalSSD：本地盘。CloudESSD_FlexPL：FlexPL 云盘。CloudESSD_PL0：PL0 云盘。
- `subnet_id` (String) 子网 ID。
- `vpc_id` (String) 专有网络（VPC） ID。

### Optional

- `allow_list_ids` (Set of String) 白名单 ID。如需绑定多个白名单，白名单 ID 用英文逗号（,）分隔。一个实例最多可绑定 100 个白名单。
- `auto_storage_scaling_config` (Attributes) 自动扩容配置。 (see [below for nested schema](#nestedatt--auto_storage_scaling_config))
- `auto_upgrade_minor_version` (String) 实例内核小版本的升级策略。取值：Auto：自动升级。Manual：手动升级。
- `cpu_num` (Number) 实例数据库代理服务的 CPU 核数。
- `db_param_group_id` (String) 参数模板 ID。默认值为数据库引擎版本对应的默认参数模板。
- `db_time_zone` (String) 时区。支持 UTC -12:00 ~ +13:00。默认值为 Region 所在的 TimeZone。
- `deletion_protection` (String) 是否启用实例的删除保护功能。取值：Enabled：是。Disabled：否。默认值。
- `global_read_only` (Boolean) 是否开启全局只读。取值：true：是。false：否。默认值为 false。
- `instance_name` (String) 实例名称。
- `instance_type` (String) 实例类型。取值：DoubleNode，双节点类型。MultiNode，多节点类型。
- `lower_case_table_names` (String) 表名是否区分大小写，默认取值为 true。取值：false：表名被存储成固定且表名称大小写敏感。true：表名将被存储成小写且表名称大小写不敏感。
- `maintenance_window` (Attributes) 在创建实例时指定实例的可维护时间段。该字段为可选，不设置时默认为一周内每一天的 UTC18:00Z-21:59Z（即北京时间 02:00-05:59）。 (see [below for nested schema](#nestedatt--maintenance_window))
- `node_spec` (String) 节点规格。
- `port` (Number) 默认终端的私网端口。端口号的取值范围为 1000~65534，默认值为 3306。创建新的连接终端或开启新地址时，将使用默认终端的私网端口实时配置为默认端口。
- `project_name` (String) 所属项目。
- `super_account_name` (String) 高权限账号名称。不传此参数默认不创建高权限账号。
- `super_account_password` (String) 高权限账号的密码。密码规则如下：长度为 8~32 个字符。由大写字母、小写字母、数字、特殊字符中的至少三种组成。特殊字符为 !@#$%^&*()_+-=,.&?|/。
- `sync_mode` (String) 数据同步方式：SemiSync：半同步。Async：异步。
- `tags` (Attributes Set) RDS MySQL 实例的标签信息
 特别提示: 在使用 ListNestedAttribute 或 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--tags))

### Read-Only

- `address_objects` (Attributes Set) 默认终端的连接信息。
 特别提示: 在使用 ListNestedAttribute 或 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--address_objects))
- `allow_list_version` (String) 白名单版本。
- `backup_audit_log_size` (Number) 备份中审计日志使用的空间。
- `backup_bin_log_size` (Number) 备份中 Binlog 日志使用的空间。
- `backup_data_size` (Number) 备份中数据使用的空间。
- `backup_error_log_size` (Number) 备份中错误日志使用的空间。
- `backup_free_quota_size` (Number) 免费的备份存储空间，单位为 GB。
- `backup_log_size` (Number) 备份中日志使用的空间。
- `backup_slow_log_size` (Number) 备份中慢日志使用的空间。
- `backup_use` (Number) 实例的备份已使用的空间，单位为 GB。
- `basic_backup_binlog_size` (Number) 基础备份中 Binlog 日志使用的空间。
- `basic_backup_data_size` (Number) 基础备份中数据使用的空间。
- `created_time` (String) 实例创建本地时间。
- `current_kernel_version` (String) 实例的内核小版本。
- `disaster_recovery_instances` (Attributes Set) 实例的灾备实例的信息。
 特别提示: 在使用 ListNestedAttribute 或 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--disaster_recovery_instances))
- `dr_dts_task_id` (String) 主实例与灾备实例之间的数据同步链路在 DTS 数据同步任务的 ID。
- `dr_dts_task_name` (String) 主实例与灾备实例之间同步任务的名称。
- `dr_dts_task_status` (String) 主实例与灾备实例之间同步任务的状态。
- `dr_seconds_behind_master` (Number) 灾备实例与主实例之间的时延。
- `endpoints` (Attributes Set) 实例的连接信息。
 特别提示: 在使用 ListNestedAttribute 或 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--endpoints))
- `has_disaster_recovery_instances` (Boolean) 实例是否有灾备实例。取值：true：是。false：否。
- `has_green_instance` (Boolean) 实例是否处于蓝绿部署中。取值：true：是。false：否。
- `id` (String) Uniquely identifies the resource.
- `instance_id` (String) 实例 ID。
- `instance_status` (String) 实例状态。
- `master_instance_id` (String) 主实例的 ID。
- `master_instance_name` (String) 主实例的名称。
- `memory` (Number) 内存大小。单位：GB。
- `node_cpu_used_percentage` (Number) 实例主节点 CPU 使用率近一分钟的平均值。
- `node_memory_used_percentage` (Number) 实例主节点内存使用率近一分钟的平均值。
- `node_number` (String) 节点数量。
- `node_space_used_percentage` (Number) 实例主节点磁盘使用率近一分钟的平均值。
- `proxy_detail` (Attributes) proxy信息 (see [below for nested schema](#nestedatt--proxy_detail))
- `storage_audit_log_size` (Number) 实例存储空间中审计日志使用的空间。
- `storage_bin_log_size` (Number) 实例存储空间中 Binlog 使用的空间。
- `storage_data_size` (Number) 实例存储空间中数据使用的空间。
- `storage_error_log_size` (Number) 实例存储空间中错误日志使用的空间。
- `storage_log_size` (Number) 实例存储空间中日志使用的空间。
- `storage_slow_log_size` (Number) 实例存储空间中慢日志使用的空间。
- `storage_use` (Number) 实例已使用用存储空间，单位为 GB。
- `time_zone` (String) 时区。
- `updated_time` (String) 实例更新本地时间。
- `vcpu` (Number) CPU 大小。例如：1 表示 1U。
- `zone_id` (String) 实例主节点所在可用区。
- `zone_ids` (Set of String) 实例各节点所在的可用区列表。

<a id="nestedatt--charge_detail"></a>
### Nested Schema for `charge_detail`

Required:

- `charge_type` (String) 付费类型。取值为：PrePaid：包年包月。PostPaid：按量计费。

Optional:

- `auto_renew` (Boolean) 预付费场景下是否自动续费。取值：true：自动续费。false：不自动续费。
- `number` (Number) 实例购买数量。取值范围为 1~50。默认值为 1。
- `period` (Number) 预付费场景下的购买时长。
- `period_unit` (String) 预付费场景下的购买周期。Month：购买周期为月。默认。Year：购买周期为年。

Read-Only:

- `charge_end_time` (String) 包年包月实例的计费结束时间（UTC 时间）。格式为 yyyy-MM-ddTHH:mm:ss.sssZ。
- `charge_start_time` (String) 实例的计费开始时间（UTC 时间）。格式为 yyyy-MM-ddTHH:mm:ss.sssZ。
- `charge_status` (String) 实例的计费状态。取值：Normal：正常。Overdue：欠费。Unpaid：等待支付。
- `overdue_reclaim_time` (String) 实例欠费关停（按量付费）或到期关停（包年包月）后，预计被释放的时间（UTC 时间）。格式为 yyyy-MM-ddTHH:mm:ss.sssZ。
- `overdue_time` (String) 实例欠费关停（按量付费）或到期关停（包年包月）的时间（UTC 时间）。格式为 yyyy-MM-ddTHH:mm:ss.sssZ。
- `temp_modify_end_time` (String) 临时升配的还原时间（UTC 时间）。格式为 yyyy-MM-ddTHH:mm:ss.sssZ。
- `temp_modify_start_time` (String) 临时升配的开始时间（UTC 时间）。格式为 yyyy-MM-ddTHH:mm:ss.sssZ。


<a id="nestedatt--nodes"></a>
### Nested Schema for `nodes`

Required:

- `node_spec` (String) 节点规格。
- `node_type` (String) 节点类型。取值：Primary：主节点。Secondary：备节点。ReadOnly：只读节点。
- `zone_id` (String) 可用区 ID。


<a id="nestedatt--auto_storage_scaling_config"></a>
### Nested Schema for `auto_storage_scaling_config`

Optional:

- `enable_storage_auto_scale` (Boolean) 是否开启实例的自动扩容功能。取值：true：是。false：否。
- `storage_threshold` (Number) 触发自动扩容的可用存储空间占比。取值范围为 10~50，默认值为 10，单位为 %。
- `storage_upper_bound` (Number) 可自动扩容的存储空间上限。该字段的取值下限为实例存储空间+20GB；取值上限为实例主节点规格对应的存储空间取值范围的上限，单位为 GB。关于不同规格可选择存储空间取值范围的详细信息。


<a id="nestedatt--maintenance_window"></a>
### Nested Schema for `maintenance_window`

Optional:

- `day_kind` (String) 可维护周期粒度，取值为 Week，周。
- `day_of_week` (Set of String) 指定可维护时间段在每周生效的日期。可多选。Monday：周一。Tuesday：周二。Wednesday：周三。Thursday：周四。Friday：周五。Saturday：周六。Sunday：周日。
- `maintenance_time` (String) 实例的可维护时间段。格式：HH:mmZ-HH:mmZ（UTC 时间）。说明


<a id="nestedatt--tags"></a>
### Nested Schema for `tags`

Optional:

- `key` (String) 标签键。
- `value` (String) 标签值。


<a id="nestedatt--address_objects"></a>
### Nested Schema for `address_objects`

Read-Only:

- `dns_visibility` (Boolean) false：私网解析（默认）。true：私网以及公网解析。
- `domain` (String) 连接域名。
- `eip_id` (String) EIP 的 ID，仅对 Public 地址有效。
- `internet_protocol` (String) IP 协议版本。取值为 IPv4。
- `ip_address` (String) IP 地址。
- `network_type` (String) 网络地址类型，取值为：Private：私网地址。Public：公网地址。
- `port` (String) 端口。
- `subnet_id` (String) 子网 ID，仅对 Private 地址有效。


<a id="nestedatt--disaster_recovery_instances"></a>
### Nested Schema for `disaster_recovery_instances`

Read-Only:

- `dts_task_id` (String) 主实例与灾备实例之间同步任务的 ID。
- `dts_task_name` (String) 主实例与灾备实例之间同步任务的名称。
- `dts_task_status` (String) 主实例与灾备实例之间同步任务的状态。
- `instance_id` (String) 灾备实例的 ID。
- `instance_name` (String) 灾备实例的名称。
- `seconds_behind_master` (Number) 灾备实例与主实例之间的时延。


<a id="nestedatt--endpoints"></a>
### Nested Schema for `endpoints`

Read-Only:

- `auto_add_new_nodes` (String) 当终端类型为读写终端或只读终端时，支持设置新节点是否自动加入。取值：Enable：自动加入Disable：不自动加入（默认）。
- `connection_info_tags` (Set of String) 连接终端标签。
- `connection_mode` (String) 连接终端类型。取值：Proxy：代理终端。Direct：直连终端。
- `connection_pool_type` (String) 代理终端的连接池类型。取值：Transaction：事务级连接池。默认值。Direct：直连模式。
- `description` (String) 连接终端的描述信息。
- `enable_connection_persistent` (Boolean) 是否启用连接保持。取值：true：是。false：否。
- `enable_read_only` (String) 是否已开启全局只读，取值：Enable：开启。Disable：未开启。
- `enable_read_write_splitting` (String) 是否已开启读写分离，取值：Enable：开启。Disable：未开启。
- `endpoint_id` (String) 实例连接终端 ID。
- `endpoint_name` (String) 实例连接终端名称。
- `endpoint_type` (String) 终端类型。取值为 Custom，自定义终端。
- `idle_connection_reclaim` (Boolean) 空闲连接回收功能是否开启。true：开启。false：不开启。
- `implicit_trans_split` (Boolean) 是否开启事务分离。取值：true：是。false：否。
- `master_node_routing` (Boolean) 是否开启主节点路由。取值：true：是。false：否。
- `master_protector_timeout` (Number) 过载保护超时时间。取值范围为 60~7200 之间的整数，单位为秒。
- `multi_statements_mode` (String) 代理终端的 Multi-Statements 模式。取值：Strict：Strict 模式。默认值。Loose：Loose 模式。
- `overload_protection` (Boolean) 是否开启过载保护。取值：true：是。false：否。
- `read_only_node_distribution_type` (String) 读权重分配模式。当开通读写分离设置为 true 时需要传入此参数。在 CreateDBEndpoint 和 ModifyDBEndpoint 接口中做请求参数时，取值范围如下：LoadSchedule：负载调度。RoundRobinCustom：自定义权重的轮询调度。RoundRobinAuto：自动分配权重的轮询调度。在 DescribeDBInstanceDetail 接口中做返回参数时，取值范围如下：Default：按规格权重自动分配。Custom：自定义分配权重。RoundRobin：轮询调度。LoadSchedule：负载调度。RoundRobinCustom：自定义权重的轮询调度。RoundRobinAuto：自动分配权重的轮询调度。
- `read_only_node_max_delay_time` (Number) 只读节点延迟阈值。取值范围为 1~3600，默认为 30，单位为秒。
- `read_only_node_weight` (Attributes Set) 连接终端配置的节点列表及对应的只读权重。
 特别提示: 在使用 ListNestedAttribute 或 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--endpoints--read_only_node_weight))
- `read_write_mode` (String) 读写模式：ReadWrite：读写。ReadOnly：只读。

<a id="nestedatt--endpoints--read_only_node_weight"></a>
### Nested Schema for `endpoints.read_only_node_weight`

Read-Only:

- `node_id` (String) 只读节点需要传入 NodeId，主节点无需传入。
- `node_type` (String) 节点类型。Primary：主节点。ReadOnly：只读节点。
- `weight` (Number) 节点的读权重，以 100 递增，最大值为 10000。



<a id="nestedatt--proxy_detail"></a>
### Nested Schema for `proxy_detail`

Read-Only:

- `db_proxy_status` (String) 实例的数据库代理功能状态。取值：Creating：代理开启中。Running：代理运行中。Shutdown：代理已关闭。Deleting：代理关闭中
- `proxy_resource_info` (Attributes) 实例的数据库代理服务的资源信息。 (see [below for nested schema](#nestedatt--proxy_detail--proxy_resource_info))

<a id="nestedatt--proxy_detail--proxy_resource_info"></a>
### Nested Schema for `proxy_detail.proxy_resource_info`

Read-Only:

- `current_proxy_cpu_num` (Number) 实例数据库代理服务当前的核数。
- `max_proxy_cpu_num` (Number) 用户可为数据库代理服务配置的最多核数。
- `min_proxy_cpu_num` (Number) 用户可为数据库代理服务配置的最少核数。

## Import

Import is supported using the following syntax:

```shell
$ terraform import volcenginecc_rdsmysql_instance.example "instance_id"
```