---
page_title: "volcenginecc_cbr_backup_plan Resource - terraform-provider-volcenginecc"
subcategory: ""
description: |-
  当需要对备份源进行自动备份时，可以创建备份计划，在备份计划中关联备份源和备份策略，指定备份存储空间，并设置备份数据保留规则等。在创建备份计划后，系统将按照关联备份策略配置，对指定备份源进行统一自动备份。
---

# volcenginecc_cbr_backup_plan (Resource)

当需要对备份源进行自动备份时，可以创建备份计划，在备份计划中关联备份源和备份策略，指定备份存储空间，并设置备份数据保留规则等。在创建备份计划后，系统将按照关联备份策略配置，对指定备份源进行统一自动备份。

## Example Usage

```terraform
resource "volcenginecc_cbr_backup_plan" "CBRBackupPlanDemo" {
  name      = "CBRBackupPlanDemo"
  policy_id = "policy-krn3z1wf9ubujxxxxx"
  resource_list = [
    {
      resource_type = "ECS"
      resource_id   = "res-krn4bq3sctbwvxxxxx"
      meta_information = {
        vepfs_meta = ""
        ecs_meta   = "{\"AutoBackupAllAttachedVolumes\":true,\"VolumeList\":[{\"VolumeId\":\"vol-3wt6m9uygg4kgxxxxx\",\"VolumeName\":\"emr-d6af13acb6966xxxxx-volume-1-2\",\"VolumeType\":\"ESSD_FlexPL\"},{\"VolumeId\":\"vol-3wt6m9vh3a3qxxxxx\",\"VolumeName\":\"emr-d6af13acb6966xxxxx-volume-2-2\",\"VolumeType\":\"ESSD_FlexPL\"}]}"
      }
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) 备份计划名称。
- `resource_list` (Attributes Set) 备份源列表。
 特别提示: 在使用 ListNestedAttribute 或 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--resource_list))

### Optional

- `policy_id` (String) 备份策略 ID。

### Read-Only

- `account_id` (String) 创建此计划的账户 ID。
- `created_time` (String) 创建时间。
- `id` (String) Uniquely identifies the resource.
- `plan_id` (String) 备份计划 ID。
- `policy` (Attributes) 备份策略。 (see [below for nested schema](#nestedatt--policy))
- `updated_time` (String) 更新时间。

<a id="nestedatt--resource_list"></a>
### Nested Schema for `resource_list`

Required:

- `meta_information` (Attributes) 资源的meta信息，创建备份计划时，用于存储额外的配置。 (see [below for nested schema](#nestedatt--resource_list--meta_information))
- `resource_id` (String) 备份源 ID。
- `resource_type` (String) 备份源类型，取值如下：ECS：ECS 整机备份。vePFS：vePFS 文件系统备份。

<a id="nestedatt--resource_list--meta_information"></a>
### Nested Schema for `resource_list.meta_information`

Optional:

- `ecs_meta` (String) ECS 的元数据，是一个 JSON string。
- `vepfs_meta` (String) vePFS 备份源元数据，是一个 JSON string。



<a id="nestedatt--policy"></a>
### Nested Schema for `policy`

Read-Only:

- `account_id` (String) 创建此策略的账户 ID。
- `backup_type` (String) 备份类型，取值说明如下：FULL：全量备份。INCREMENTAL：增量备份。
- `created_time` (String) 创建时间。
- `crontab` (String) 用于指定备份周期，支持标准 crontab 表达式配置。
- `enable_policy` (Boolean) 是否启用策略，取值说明如下：true：启用策略。false：禁用策略。
- `name` (String) 策略名称。
- `plan_number` (Number) 该策略已关联的备份计划数量。
- `policy_id` (String) 备份策略 ID。
- `retention_day` (Number) 恢复点保留时间，-1 表示持续保留。
- `updated_time` (String) 更新时间。

## Import

Import is supported using the following syntax:

```shell
$ terraform import volcenginecc_cbr_backup_plan.example "plan_id"
```