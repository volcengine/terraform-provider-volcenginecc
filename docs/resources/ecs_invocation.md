---
page_title: "volcenginecc_ecs_invocation Resource - terraform-provider-volcenginecc"
subcategory: ""
description: |-
  云助手是火山引擎打造的原生自动化运维工具。您可以创建立即执行、周期执行、定时执行的作业任务，创建完成后完，云助手客户端将按照执行模式自动开始执行。
---

# volcenginecc_ecs_invocation (Resource)

云助手是火山引擎打造的原生自动化运维工具。您可以创建立即执行、周期执行、定时执行的作业任务，创建完成后完，云助手客户端将按照执行模式自动开始执行。

## Example Usage

```terraform
resource "volcenginecc_ecs_invocation" "InvocationDemo" {
  invocation_name        = "InvocationDemo"
  invocation_description = "InvocationDemo desc"
  working_dir            = "/home"
  username               = "InvocationDemo"
  windows_password       = "********"
  timeout                = 60
  instance_ids           = ["i-ye2v6l0pvkqc6inxxxxx"]
  repeat_mode            = "Rate"
  frequency              = "1h"
  launch_time            = "2025-08-30T11:10Z"
  recurrence_end_time    = "2025-08-31T11:04Z"
  project_name           = "default"
  tags = [
    {
      key = "env"
    value = "test" }
  ]
  command_id = "cmd-ye28kugp249tzrexxxxx"
  parameters = "{\"dirname\":\"10\"}"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `command_id` (String) 命令ID。
- `instance_ids` (Set of String) 实例ID列表，最多支持200个ID。
- `invocation_name` (String) 作业名称。不超过64个字符。暂不限制特殊字符。同地域下作业名称可重复。

### Optional

- `frequency` (String) 执行频率。RepeatMode=Rate 时本参数必填。格式：<执行间隔数值><执行间隔单位>，执行间隔单位：支持分钟（5m-60m）、小时（1h-24h）和天（1d-7d）。执行间隔基于固定频率，与作业实际执行需要的时间无关。创建作业后基于LaunchTime执行一次，根据间隔设置确定下一次执行时间。
- `invocation_description` (String) 作业描述，默认为空字符串，不超过256个字符。
- `launch_time` (String) 执行时间。
- `parameters` (String) 命令中包含自定义参数时，需通过本参数传入自定义参数的键值对。自定义参数个数范围为0~60。Key不允许为空字符串，最多支持64个字符。Value允许为空字符串。自定义参数与原始命令内容在Base64编码后，综合长度不能超过16KB。设置的自定义参数名集合必须为创建命令时定义的参数集的子集。对于未传入的参数，使用默认值代替。
- `project_name` (String) 资源所属项目，一个资源只能归属于一个项目。
- `recurrence_end_time` (String) 周期结束时间，仅适用于周期任务（Rate）。
- `repeat_mode` (String) 设置命令执行的方式。Once：默认，表示立即执行命令。Rate：周期执行命令，需要通过Frequency参数传入Rate表达式指定执行周期。Fixed：定时执行命令，需要通过LaunchTime参数指定的执行时间。
- `tags` (Attributes Set) (see [below for nested schema](#nestedatt--tags))
- `timeout` (Number) 创建的命令在ECS实例中执行时最大的超时时间，单位为秒。默认值：60。可选范围为：30~86400。
- `username` (String) 在ECS实例中执行命令的用户名称。
- `windows_password` (String) 自定义windows用户的密码。
- `working_dir` (String) 创建的命令在ECS实例中运行的目录。

### Read-Only

- `command_content` (String) 命令内容。
- `command_description` (String) 被调用命令的描述。
- `command_name` (String) 任务触发时的命令名称。
- `command_provider` (String) 被调用命令的提供方。
- `command_type` (String) 作业触发的命令类型。
- `enable_parameter` (Boolean) 被调用命令是否使用自定义参数。true：已启用。false：未启用。
- `end_time` (String) 任务结束时间。
- `id` (String) Uniquely identifies the resource.
- `instance_number` (Number) 执行实例数量。
- `invocation_id` (String) 任务执行 ID。
- `invocation_results` (Attributes Set) 单台实例执行命令的结果。
 特别提示: 在使用 ListNestedAttribute 或 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--invocation_results))
- `invocation_status` (String) 命令执行的总执行状态。
- `parameter_definitions` (Attributes Set) (see [below for nested schema](#nestedatt--parameter_definitions))
- `start_time` (String) 任务开始时间。

<a id="nestedatt--tags"></a>
### Nested Schema for `tags`

Optional:

- `key` (String)
- `value` (String)


<a id="nestedatt--invocation_results"></a>
### Nested Schema for `invocation_results`

Read-Only:

- `command_id` (String) 命令ID。
- `end_time` (String) 命令执行的完成时间。
- `error_code` (String) 命令执行失败的错误码。TaskDeliveryTimeout：表示命令下发超时。TaskExecutionTimeout：表示命令执行超时。TaskExecutionFailed：表示命令执行失败。
- `error_message` (String) 命令执行失败的错误信息。
- `exit_code` (Number) 脚本执行后的退出状态码。
- `instance_id` (String) 实例ID。
- `invocation_id` (String) 任务执行ID。
- `invocation_result_id` (String) 任务执行结果ID。
- `invocation_result_status` (String) 单台实例的命令进度状态。
- `output` (String) 经过Base64编码的命令执行后输出信息。
- `start_time` (String) 命令在实例中开始执行的时间。
- `username` (String) 在实例中执行命令的用户名称。


<a id="nestedatt--parameter_definitions"></a>
### Nested Schema for `parameter_definitions`

Read-Only:

- `decimal_precision` (Number) 自定义参数值（数字）允许的小数点后位数。
- `default_value` (String) 自定义参数默认值。
- `max_length` (Number) 自定义参数值（字符串）的最大长度。
- `max_value` (String) 自定义参数值（数字）的最大值。
- `min_length` (Number) 自定义参数值（字符串）的最小长度。
- `min_value` (String) 自定义参数值（数字）的最小值。
- `name` (String) 自定义参数名称，需要在脚本中通过{{Param}}定义 。
- `required` (Boolean) 是否必填。true：必填。false：非必填。
- `type` (String) 自定义参数类型。String：表示自定义参数类型字符串类型。Digit：表示自定义参数类型为数值类型。

## Import

Import is supported using the following syntax:

```shell
$ terraform import volcenginecc_ecs_invocation.example "invocation_id"
```