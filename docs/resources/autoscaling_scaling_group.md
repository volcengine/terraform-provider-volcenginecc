---
page_title: "volcenginecc_autoscaling_scaling_group Resource - terraform-provider-volcenginecc"
subcategory: ""
description: |-
  伸缩组用于管理一组云资源实例。通过伸缩组可以定义云资源池中的实例数/容量、冷却时间、负载均衡等信息。
---

# volcenginecc_autoscaling_scaling_group (Resource)

伸缩组用于管理一组云资源实例。通过伸缩组可以定义云资源池中的实例数/容量、冷却时间、负载均衡等信息。

## Example Usage

```terraform
resource "volcenginecc_autoscaling_scaling_group" "AutoScalingScalingGroupDemo" {
  health_check_type = "ECS"
  scaling_mode      = "release"
  instances_distribution = {
    compensate_with_on_demand                = true
    on_demand_base_capacity                  = 0
    on_demand_percentage_above_base_capacity = 50
    spot_instance_remedy                     = true
  }
  tags = [
    {
      key = "env"
    value = "test" }
  ]
  launch_template_overrides = [
    {
      instance_type = "ecs.g4il.large"
    price_limit = 0 }
  ]
  launch_template_id = "lt-ye9dsl3ucffig992xxxxfncd"
  project_name       = "default"
  server_group_attributes = [
    {
      port            = 8080
      server_group_id = "rsp-13g2ktevofhfk3n6nxxxu4mqjq0o"
      type            = "CLB"
    weight = 50 },
    {
      port            = 8080
      server_group_id = "rsp-bde4j3yuu8008dv4xxxx0nkn203g"
      type            = "ALB"
    weight = 50 }
  ]
  launch_template_version   = "Default"
  subnet_ids                = ["subnet-3nrd6qaq3log0931ecxxxh3re2r"]
  default_cooldown          = 300
  desire_instance_number    = -1
  instance_terminate_policy = "OldestScalingConfigurationWithOldestInstance"
  max_instance_number       = 6
  min_instance_number       = 1
  multi_az_policy           = "PRIORITY"
  scaling_group_name        = "AutoScalingScalingGroupDemo"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `max_instance_number` (Number) 伸缩组中实例个数的最大值，默认取值0 ～ 100。您可以通过配额中心调整。
- `min_instance_number` (Number) 伸缩组中实例个数的最小值，默认取值0 ～ 100。您可以通过配额中心调整。
- `scaling_group_name` (String) 伸缩组名称，同一地域下伸缩组名称唯一。只能以中文、字母开头，只能包含中文、字母、数字、下划线和中划线 。长度限制为1 ~ 128个字符。暂不支持特殊字符。
- `subnet_ids` (Set of String) 伸缩组中实例主网卡的子网ID列表。

### Optional

- `active_scaling_configuration_id` (String) 伸缩组绑定的伸缩配置的ID。
- `default_cooldown` (Number) 执行一次伸缩活动（添加或移出ECS实例）结束后的冷却时间。冷却时间内，该伸缩组不执行其它的伸缩活动，仅针对云监控报警任务触发的伸缩活动和伸缩规则有效。取值范围：5 ~ 86400，单位：秒。默认值：300。
- `desire_instance_number` (Number) 伸缩组中期望运行的实例个数。1、不小于最小实例数MinInstanceNumber且不大于最大实例数MaxInstanceNumber。2、默认值：-1，表示不开启期望实例数能力。此时，伸缩组创建完成后会立即开始伸缩活动自动添加相应个数的实例。
- `health_check_type` (String) 伸缩组的健康检查方式。1、NONE：不做实例健康状态检查。2、ECS（默认）：对伸缩组内的ECS实例做健康检查。
- `instance_terminate_policy` (String) 实例移除策略，1、OldestInstance：移出最早加入 （包括自动创建和手动添加）伸缩组的实例。2、NewestInstance：移出最晚加入（包括自动创建和手动添加）伸缩组的实例。3、OldestScalingConfigurationWithOldestInstance（默认）：移出最早与伸缩组绑定的伸缩配置中，最早由伸缩组 自动创建 的实例。4、OldestScalingConfigurationWithNewestInstance：移出最早与伸缩组绑定的伸缩配置中，最晚由伸缩组 自动创建 的实例。
- `instances_distribution` (Attributes) 实例分布策略。 (see [below for nested schema](#nestedatt--instances_distribution))
- `is_enable_scaling_group` (Boolean) 是否启用伸缩组。true：启用。false：停止
- `launch_template_id` (String) 实例启动模板ID，配置后表示选择启动模版作为伸缩配置来源。
- `launch_template_overrides` (Attributes Set) 实例启动模版信息。
 特别提示: 在使用 ListNestedAttribute 或 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--launch_template_overrides))
- `launch_template_version` (String) 实例启动模板的版本。1、模板的某个版本号。2、Default（默认）：始终使用模板默认版本。3、Latest：始终使用模板最新版本。
- `multi_az_policy` (String) 扩缩容策略，如果您选择了多个子网，需配置本参数。1、PRIORITY（默认）：优先级策略。2、BALANCE：均衡分布策略。
- `project_name` (String) 伸缩组所属项目，默认为default。一个资源只能归属于一个项目。只能包含字母、数字、下划线“_”、点“.”和中划线“-”。长度限制在64个字符以内。
- `scaling_mode` (String) 伸缩组的实例回收模式。1、release（默认）：释放模式。2、recycle：停机回收模式。
- `server_group_attributes` (Attributes Set) 伸缩组关联的负载均衡信息。
 特别提示: 在使用 ListNestedAttribute 或 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--server_group_attributes))
- `suspended_processes` (Set of String) 暂停中的流程，无暂停中流程则返回空值。ScaleIn：缩容流程。ScaleOut：扩容流程。HealthCheck：健康检查。AlarmNotification：报警任务。ScheduledAction：定时任务。
- `tags` (Attributes Set) 标签列表。
 特别提示: 在使用 ListNestedAttribute 或 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--tags))

### Read-Only

- `created_time` (String) 伸缩组创建时间。
- `db_instance_ids` (Set of String) RDS数据库实例的ID。
- `id` (String) Uniquely identifies the resource.
- `lifecycle_state` (String) 伸缩组的状态。Active：已启用。InActive：未激活。Deleting：删除中。Locked: 已锁定。CoolingDown: 冷却中。Unknown: 未知状态。
- `load_balancer_health_check_grace_period` (Number) 伸缩组实例CLB健康状况检查宽限期。
- `scaling_group_id` (String) 伸缩组ID。
- `stopped_instance_count` (Number) 伸缩组内处于停用中状态的实例数量。
- `total_instance_count` (Number) 当前伸缩组内实例的个数。
- `updated_time` (String) 伸缩组更新时间。
- `vpc_id` (String) 伸缩组所属私有网络ID。

<a id="nestedatt--instances_distribution"></a>
### Nested Schema for `instances_distribution`

Optional:

- `compensate_with_on_demand` (Boolean) 当因价格、库存等原因无法创建足够的抢占式实例时，是否允许使用按量实例补充抢占式容量。true: 允许。false（默认）: 不允许。
- `on_demand_base_capacity` (Number) 伸缩组中按量计费实例个数的最小值，取值范围：0~2000。当组中按量计费实例个数少于该值时，将优先创建按量计费的实例。
- `on_demand_percentage_above_base_capacity` (Number) 伸缩组满足最小按量实例数要求后，超出的实例中按量实例应占的比例，取值范围：0～100。
- `spot_instance_remedy` (Boolean) 是否允许抢占式实例到期替换。开启则表示在抢占式实例被回收前5分钟左右，伸缩组将主动新建新的抢占式实例替换掉当前抢占式实例。true: 允许。false（默认）: 不允许。


<a id="nestedatt--launch_template_overrides"></a>
### Nested Schema for `launch_template_overrides`

Optional:

- `instance_type` (String) 指定实例规格。本参数仅当LaunchTemplateId参数存在取值时生有效。
- `price_limit` (Number) 指定抢占式实例规格每小时的最高价格。本参数仅当LaunchTemplateId参数存在取值，且启动模版的计费模式为设置出价上限的抢占式实例（即SpotWithPriceLimit）时有效。


<a id="nestedatt--server_group_attributes"></a>
### Nested Schema for `server_group_attributes`

Optional:

- `port` (Number) 负载均衡后端服务器组中服务器的端口号。取值1 ～ 65535。
- `server_group_id` (String) 负载均衡后端服务器组的ID。
- `type` (String) 负载均衡服务器组类型。单个CLB/ALB最多支持添加20个后端服务器组，所有CLB/ALB最多支持添加100个后端服务器。ALB：应用型负载均衡。CLB：传统型型负载均衡（默认）。
- `weight` (Number) 负载均衡后端服务器组中服务器的权重。


<a id="nestedatt--tags"></a>
### Nested Schema for `tags`

Optional:

- `key` (String) 用户标签的标签键。
- `value` (String) 用户标签的标签值。

## Import

Import is supported using the following syntax:

```shell
$ terraform import volcenginecc_autoscaling_scaling_group.example "scaling_group_id"
```