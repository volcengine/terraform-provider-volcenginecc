---
page_title: "volcenginecc_rocketmq_topic Resource - terraform-provider-volcenginecc"
subcategory: ""
description: |-
  在RocketMQ 实例中，Topic 是消息发送与接收的基本单元，消息队列 RocketMQ版通过 Topic 对各类消息进行分类管理。消息的生产者将消息发送到 RocketMQ Topic 中，而消息的消费者则通过订阅该 RocketMQ Topic 来消费消息。
---

# volcenginecc_rocketmq_topic (Resource)

在RocketMQ 实例中，Topic 是消息发送与接收的基本单元，消息队列 RocketMQ版通过 Topic 对各类消息进行分类管理。消息的生产者将消息发送到 RocketMQ Topic 中，而消息的消费者则通过订阅该 RocketMQ Topic 来消费消息。

## Example Usage

```terraform
resource "volcenginecc_rocketmq_topic" "RocketMQTopicDemo" {
  instance_id  = "rocketmq-cnngxxxxx3c2d"
  topic_name   = "ccapi-test-test-2"
  message_type = 0
  description  = "this is a test"
  queue_number = 6
  access_policies = [
    {
      access_key = "TPl1xxxxxxblh5Gpxa79"
    authority = "ALL" },
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `instance_id` (String) 实例 ID。
- `message_type` (Number) 消息类型。设置此参数表示根据指定的消息类型筛选 Topic 列表。取值说明如下：0：普通消息。1：事务消息。2：分区顺序消息。3：全局顺序消息。4：延时消息。
- `queue_number` (Number) 设置当前 Topic 的队列数量，最大不可超过当前实例剩余可用队列数。每个实例规格的队列数量限制请参考产品规格。在 4.x 版本实例中创建 Topic 时，请参考以下说明设置队列数：全局顺序类型的 Topic 队列数默认为 1。其他类型 Topic 的队列数和计算规格有关，n3 及以下规格的队列数默认为 6，n3 以上规格的队列数默认是 broker 组数的两倍。队列数建议设置为计算节点数的倍数，否则可能造成不同 Broker 之间数据不均衡。例如规格 rocketmq.n3.x2.medium 的计算节点数为 3，队列数建议设置为 3 的倍数，即 3、6、9 等。在 5.x 版本实例中创建 Topic 时，请参考以下说明设置队列数：全局顺序类型的 Topic 队列数默认为 1。其他类型 Topic 的队列数默认是 broker 组数的两倍。非顺序场景性能不受队列个数影响，更多队列仅用于提升顺序消费并发性能。
- `topic_name` (String) Topic 的名称。命名规则如下：长度为 3~100 个字符。只能包含英文、数字、连字符（-）以及下划线（_）。Topic 名称中不可包含以下保留字符或特殊前缀。保留字符：RMQ_SYS_TRANS_OP_HALF_TOPIC、BenchmarkTest、TBW102、OFFSET_MOVED_EVENT、SELF_TEST_TOPIC、RMQ_SYS_TRANS_HALF_TOPIC、SCHEDULE_TOPIC_XXXX、RMQ_SYS_TRACE_TOPIC。特殊前缀：rocketmq-broker-、%RETRY%、rmq_sys_、%DLQ%。

### Optional

- `access_policies` (Attributes List) 每个 RocketMQ 密钥对于当前 Topic 的权限，支持批量设置权限。若未设置，每个密钥对于当前 Topic 维持密钥的默认权限。
 特别提示: 在使用 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--access_policies))
- `description` (String) Topic 的描述信息，长度为 0~128 个字符。

### Read-Only

- `created_time` (String) Topic 创建时间。
- `groups_infos` (Attributes Set) 消费者组信息列表。
 特别提示: 在使用 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--groups_infos))
- `id` (String) Uniquely identifies the resource.
- `instance_name` (String) 实例名称。
- `queues_infos` (Attributes Set) 队列信息列表。
 特别提示: 在使用 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--queues_infos))
- `read_access_policies` (Attributes Set) 每个 RocketMQ 密钥对于当前 Topic 的权限，读字段
 特别提示: 在使用 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--read_access_policies))
- `service_status` (String) 服务状态。Creating：创建中，Running：运行中，Deleting：删除中，Abnormal：异常，Updating：更新中。

<a id="nestedatt--access_policies"></a>
### Nested Schema for `access_policies`

Optional:

- `access_key` (String) RocketMQ 密钥的 AccessKey。
- `authority` (String) 用户对于当前Topic的访问权限。ALL：拥有发布、订阅权限。PUB：拥有发布权限。SUB：拥有订阅权限。DENY：不具备发布或订阅权限。


<a id="nestedatt--groups_infos"></a>
### Nested Schema for `groups_infos`

Read-Only:

- `group_id` (String) 消费组的 Group ID。
- `message_model` (String) 消费模式。取值说明如下：Clustering：集群消费模式。Broadcasting：广播消费模式。
- `sub_string` (String) 订阅的规则，此字段直接透传消费组订阅此 Topic 时指定的字符串，一般为 * 或 TAG1 || TAG2。


<a id="nestedatt--queues_infos"></a>
### Nested Schema for `queues_infos`

Read-Only:

- `end_offset` (Number) 当前队列的最大偏移量，即下一条消息的偏移量，当前最新消息的位置为 EndOffset   - 1。
- `last_update_timestamp` (Number) 该队列最近一次消息写入的时间。
- `message_count` (Number) 当前队列队列内的消息个数。EndOffset 为下一条消息的偏移量，所以 MessageCount=EndOffset-StartOffset。
- `queue_id` (String) 队列的编号 ID。
- `start_offset` (Number) 当前队列最早消息的偏移量。


<a id="nestedatt--read_access_policies"></a>
### Nested Schema for `read_access_policies`

Read-Only:

- `access_key` (String) RocketMQ 密钥的 AccessKey。
- `authority` (String) 用户对于当前Topic的访问权限。ALL：拥有发布、订阅权限。PUB：拥有发布权限。SUB：拥有订阅权限。DENY：不具备发布或订阅权限。

## Import

Import is supported using the following syntax:

```shell
$ terraform import volcenginecc_rocketmq_topic.example "instance_id|topic_name"
```