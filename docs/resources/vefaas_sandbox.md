---
page_title: "volcenginecc_vefaas_sandbox Resource - terraform-provider-volcenginecc"
subcategory: ""
description: |-
  沙箱实例是云沙箱中实际执行沙箱镜像的安全且隔离的容器运行环境。
---

# volcenginecc_vefaas_sandbox (Resource)

沙箱实例是云沙箱中实际执行沙箱镜像的安全且隔离的容器运行环境。

## Example Usage

```terraform
resource "volcenginecc_vefaas_sandbox" "VefaasSandboxDemo" {
  function_id     = "n5hcs3y5****"
  timeout         = 50
  memory_mb       = 2048
  cpu_milli       = 1000
  request_timeout = 30
  max_concurrency = 100
  metadata = [
    {
      key = "env"
    value = "test" }
  ]
  instance_image_info = {
    image    = "enterprise-public-cn-beijing.cr.volces.com/xxxxxx/all-in-one-sandbox:xxxxxx"
    command  = "/opt/gem/run.sh"
    port     = 8080
    image_id = "3ewzg8x5h1***"
  }
  instance_tos_mount_config = {
    enable = true
    tos_mount_points = [
      {
        bucket_path = "/mnt/tos"
      local_mount_path = "/mnt/tos" }
    ]
  }
  envs = [
    {
      key = "env"
    value = "test" }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `function_id` (String) 沙箱实例所属的沙箱应用 ID。

### Optional

- `cpu_milli` (Number) 沙箱实例 CPU 规格：单位：milli cpu取值范围：250~16000,默认值：1000。
- `envs` (Attributes Set) 沙箱实例环境变量。
 特别提示: 在使用 ListNestedAttribute 或 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--envs))
- `instance_image_info` (Attributes) 沙箱实例镜像信息，包括镜像地址、启动命令、监听端口。 (see [below for nested schema](#nestedatt--instance_image_info))
- `instance_tos_mount_config` (Attributes) 沙箱实例级别对象存储（TOS）存储挂载配置。 (see [below for nested schema](#nestedatt--instance_tos_mount_config))
- `max_concurrency` (Number) 单实例请求最大并发数：取值范围：10~1000,默认值：100。
- `memory_mb` (Number) 沙箱实例内存规格：单位：MiB，取值范围：512~131072，默认值：2048
- `metadata` (Attributes Set) 沙箱实例标签（Label）元信息，用于标记、筛选实例。格式为<"key":"value">。
 特别提示: 在使用 ListNestedAttribute 或 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--metadata))
- `request_timeout` (Number) 请求超时时间：单位：秒，取值范围：1~900，正整数。默认值：30。
- `timeout` (Number) 沙箱实例存活时长：单位：分钟，取值范围：3～1440，默认值：60。

### Read-Only

- `availability_zone` (String) 沙箱实例所在可用区 ID。
- `created_time` (String) 沙箱实例创建时间。
- `error_code` (String) 沙箱实例启动失败错误码。参数值说明：internal_load_request_error：系统内部错误，function_initialize_failed：业务进程初始化错误，function_health_check_failed：健康检查错误，route_terminating：路由删除中，正常启动沙箱实例时，该字段为空。
- `error_message` (String) 沙箱实例启动失败的错误码详情。正常启动沙箱实例时，该字段为空。
- `expire_at` (String) 沙箱实例存活时长。
- `id` (String) Uniquely identifies the resource.
- `instance_type` (String) 沙箱实例类型 。参数值说明：elastic：弹性实例，frozen：冻结实例，activated：激活实例，reserved：预留实例。
- `pending` (Boolean) 沙箱实例是否处于 Pending 状态。参数值说明：true：是，false：否。
- `revision_number` (Number) 函数实例版本编号。
- `sandbox_id` (String) 沙箱实例 ID。
- `status` (String) 沙箱实例状态。 参数值说明：Starting：开始启动，Ready：启动完成，Failed：启动失败，Terminating：终止中。

<a id="nestedatt--envs"></a>
### Nested Schema for `envs`

Optional:

- `key` (String) 环境变量键。
- `value` (String) 环境变量值。


<a id="nestedatt--instance_image_info"></a>
### Nested Schema for `instance_image_info`

Optional:

- `command` (String) 沙箱实例程序的启动命令。如需指定脚本文件，请使用绝对路径，并确保脚本具有相应的可执行权限。
- `image` (String) 沙箱实例使用的已预热镜像地址。
- `image_id` (String) 沙箱实例使用的已预热镜像 ID。
- `port` (Number) 沙箱实例镜像监听端口。


<a id="nestedatt--instance_tos_mount_config"></a>
### Nested Schema for `instance_tos_mount_config`

Optional:

- `enable` (Boolean) 沙箱实例是否启用了实例级别的 TOS 挂载，参数值说明：true：是，false：否。
- `tos_mount_points` (Attributes Set) 启用了实例级别 TOS 挂载的沙箱实例具体 TOS 挂载目录信息。
 特别提示: 在使用 ListNestedAttribute 或 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--instance_tos_mount_config--tos_mount_points))

<a id="nestedatt--instance_tos_mount_config--tos_mount_points"></a>
### Nested Schema for `instance_tos_mount_config.tos_mount_points`

Optional:

- `bucket_path` (String) 沙箱实例挂载的 TOS 远端目录。
- `local_mount_path` (String) 沙箱实例挂载的 TOS 存储桶本地目录。该目录为沙箱应用已配置的 TOS 存储挂载的本地目录时，系统根据指定的本地目录，修改与之对应的 TOS BucketPath。



<a id="nestedatt--metadata"></a>
### Nested Schema for `metadata`

Optional:

- `key` (String) 标签键。
- `value` (String) 标签值。

## Import

Import is supported using the following syntax:

```shell
$ terraform import volcenginecc_vefaas_sandbox.example "function_id|sandbox_id"
```