---
page_title: "volcenginecc_vedbm_instance Resource - terraform-provider-volcenginecc"
subcategory: ""
description: |-
  云数据库 veDB MySQL 版是火山引擎自研新一代云原生关系型数据库。云数据库 veDB MySQL 版 100% 兼容 MySQL，适用于企业多样化的数据库应用场景。
---

# volcenginecc_vedbm_instance (Resource)

云数据库 veDB MySQL 版是火山引擎自研新一代云原生关系型数据库。云数据库 veDB MySQL 版 100% 兼容 MySQL，适用于企业多样化的数据库应用场景。

## Example Usage

```terraform
resource "volcenginecc_vedbm_instance" "VEDBMInstanceDemo" {
  instance_name          = "VEDBMInstanceDemo"
  db_engine_version      = "MySQL_8_0"
  db_minor_version       = "3.0"
  node_spec              = "vedb.mysql.x4.medium"
  zone_ids               = "cn-beijing-a"
  node_number            = 2
  vpc_id                 = "vpc-1a1vgeoxxxccg8nvepjykjnuw"
  subnet_id              = "subnet-3nrd6xxx3log0931ech3re2r"
  port                   = 3306
  super_account_name     = "username"
  super_account_password = "*******"
  time_zone              = "UTC +08:00"
  lower_case_table_names = "1"
  project_name           = "default"
  tags = [
    {
      key = "dev"
    value = "test" }
  ]
  deletion_protection = "enabled"
  number              = 1
  charge_detail = {
    charge_type = "PostPaid"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `db_engine_version` (String) 实例兼容版本。取值范围：MySQL_8_0：表示兼容社区 MySQL 8.0 版本。MySQL_5_7：表示兼容社区 MySQL 5.7 版本。
- `node_number` (Number) 实例节点数量。取值范围为 2~16 个。
- `node_spec` (String) 实例的节点规格代码。
- `subnet_id` (String) 子网 ID。子网必须属于所选的可用区。
- `vpc_id` (String) 私有网络（VPC） ID。
- `zone_ids` (String) 可用区 ID。

### Optional

- `charge_detail` (Attributes) 计费详细信息。 (see [below for nested schema](#nestedatt--charge_detail))
- `db_minor_version` (String) 根据兼容版本，选择 veDB MySQL 小版本。当 DBEngineVersion 取值为 MySQL_5_7 时，该参数取值默认为 2.0。当 DBEngineVersion 取值为 MySQL_8_0 时，该参数取值范围如下：3.0（默认）：veDB MySQL 稳定版，100% 兼容 MySQL 8.0。3.1：原生支持 HTAP 应用场景，加速复杂查询。3.2：原生支持 HTAP 应用场景，加速复杂查询。
- `deletion_protection` (String) 实例是否开启了删除保护功能。取值范围：enabled：开启。disabled：关闭。
- `instance_name` (String) 实例名称。命名规则：不能以数字、中划线（-）开头。只能包含中文、字母、数字、下划线（_）和中划线（-）。长度需在 1~128 个字符内。
- `lower_case_table_names` (String) 表名是否区分大小写。取值范围：0：表名称大小写敏感，后端根据实际表名存储。1：表名称不区分大小写，后端存储时将表名称统一为小写字母。
- `maintenance_window` (Attributes) 实例的可维护时间窗口信息。 (see [below for nested schema](#nestedatt--maintenance_window))
- `nodes` (Attributes List) 实例节点的详细信息。
 特别提示: 在使用 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--nodes))
- `number` (Number) 创建的实例数量，取值范围 1~50，默认值为 1。
- `port` (Number) 为实例默认创建的连接终端指定私网端口号。默认取值为 3306，取值范围为 1000~65534。
- `pre_paid_storage_in_gb` (Number) 预付费的存储总容量大小，单位 GiB。
- `project_name` (String) 实例所属的项目名称。
- `storage_charge_type` (String) 存储计费类型，不传入该参数时，存储计费类型默认与计算计费类型取值一致。取值：PostPaid：按量计费（后付费）。PrePaid：包年包月（预付费）。
- `super_account_name` (String) 高权限用户的账号名称。账号名称需满足以下要求：名称唯一，且长度在 2~32 个字符内。由字母、数字、中划线（-）、下划线（_）组成。以字母开头，以字母或数字结尾。名称内不能包含禁用关键词。
- `super_account_password` (String) 高权限账号的密码。账号密码需满足以下要求：只能包含大小写字母、数字和特殊字符（如 ~!@#$%^&*_-+=`|\(){}[]:;'<>,.?/）。长度需在 8~32 个字符内。至少包含大写字母、小写字母、数字或特殊字符中的 3 种。
- `tags` (Attributes Set) 实例绑定的标签键和标签值数组对象。
 特别提示: 在使用 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--tags))
- `template_id` (String) 参数模板 ID。
- `time_zone` (String) 实例的时区。国内所有地域默认时区为 UTC +08:00。

### Read-Only

- `created_time` (String) 实例的创建时间，格式：YYYY-MM-DDTHH:MM:SSZ（UTC 时间）。
- `db_revision_version` (String) 实例的内核版本。
- `endpoints` (Attributes Set) 连接终端的详细信息。
 特别提示: 在使用 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--endpoints))
- `id` (String) Uniquely identifies the resource.
- `instance_id` (String) 实例 ID。
- `instance_status` (String) 实例状态。
- `spec_family` (String) 实例规格类型，取值：General：通用型。Exclusive：独享型。
- `storage_used_gi_b` (Number) 已使用存储空间大小，单位 GiB。

<a id="nestedatt--charge_detail"></a>
### Nested Schema for `charge_detail`

Optional:

- `auto_renew` (Boolean) 预付费场景下是否自动续费。取值：true：自动续费。false：不自动续费。
- `charge_type` (String) 计费类型。PostPaid：按量计费；PrePaid：包年包月。
- `period` (Number) 预付费场景下的购买时长。
- `period_unit` (String) 预付费场景下的购买周期。Month：包月。Year：包年。

Read-Only:

- `charge_end_time` (String) 预付费场景下计费到期的时间，格式：yyyy-MM-ddTHH:mm:ssZ（UTC 时间）。
- `charge_start_time` (String) 计费开始的时间，格式：yyyy-MM-ddTHH:mm:ssZ（UTC 时间）。
- `charge_status` (String) 付费状态：Normal：正常。Overdue：欠费。Shutdown：关停。
- `overdue_reclaim_time` (String) 欠费关停时预计释放时间，格式：yyyy-MM-ddTHH:mm:ssZ（UTC 时间）。
- `overdue_time` (String) 欠费关停时间，格式：yyyy-MM-ddTHH:mm:ssZ（UTC 时间）。


<a id="nestedatt--maintenance_window"></a>
### Nested Schema for `maintenance_window`

Optional:

- `maintenance_time` (String) 实例的可维护时间段。格式：HH:mmZ-HH:mmZ（UTC 时间）。

Read-Only:

- `day_kind` (String) 可维护周期粒度，默认取值为：Week（周）。
- `day_of_month` (Set of Number) 指定每月哪一天为可维护时间段，默认为空，表示每天都指定。
- `day_of_week` (Set of String) 每周的哪一天为可维护时间段，默认取值为每一天：Monday，Tuesday，Wednesday，Thursday，Friday，Saturday，Sunday。


<a id="nestedatt--nodes"></a>
### Nested Schema for `nodes`

Optional:

- `failover_priority` (Number) 节点切主的优先级，取值范围为 0~15。数值越大，优先级越高。
- `node_type` (String) 节点类型。取值：Primary：主节点。ReadOnly：只读节点。


<a id="nestedatt--tags"></a>
### Nested Schema for `tags`

Optional:

- `key` (String) 用户标签的标签键。长度取值范围为1~128字符，允许输入各国语言文字、数字、空格（ ）、下划线（_）、点号（.）、半角冒号（:）、斜杠（/）、等号（=）、加号（+）、中划线（-）和@（@）。若标签键开头或结尾存在空格，系统会自动为其去除。
- `value` (String) 用户标签的标签值。允许输入各国语言文字、数字、空格（ ）、下划线（_）、点号（.）、半角冒号（:）、斜杠（/）、等号（=）、加号（+）、中划线（-）和@（@）。大小写敏感。若标签值开头或结尾存在空格，系统会自动为其去除。


<a id="nestedatt--endpoints"></a>
### Nested Schema for `endpoints`

Read-Only:

- `addresses` (Attributes Set) 连接地址信息。
 特别提示: 在使用 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--endpoints--addresses))
- `auto_add_new_nodes` (Boolean) 是否允许自动加入新节点，取值：true：是。false：否。
- `consist_level` (String) 一致性级别，仅对读写模式的连接终端有效。取值：Eventual：最终一致性。Session：会话一致性。Global：全局一致性。
- `consist_timeout` (Number) 延迟很大时，只读节点同步最新数据的超时时间，单位为 us，取值范围为 1us~100000000us。
- `consist_timeout_action` (String) 只读节点同步数据超时后的超时策略，支持以下两种策略：ReturnError：返回 SQL 报错（wait replication complete timeout, please retry）。ReadMaster：发送请求到主节点。
- `description` (String) 地址描述。
- `distributed_transaction` (Boolean) 是否开启事务拆分，仅对读写模式的连接终端有效。取值：true：是。false：否。
- `endpoint_id` (String) 实例连接终端 ID。
- `endpoint_name` (String) 实例连接终端名称。
- `endpoint_type` (String) 连接终端类型，取值：Cluster：默认终端。Primary：主节点终端。Custom：自定义终端。
- `master_accept_read_requests` (Boolean) 主节点是否接受读请求。仅对读写模式的连接终端有效。true：是。false：否。
- `node_ids` (Set of String) 连接终端配置的节点列表。
- `read_write_mode` (String) 连接终端的读写模式，取值：ReadWrite: 读写。ReadOnly: 只读。

<a id="nestedatt--endpoints--addresses"></a>
### Nested Schema for `endpoints.addresses`

Read-Only:

- `dns_visibility` (Boolean) 解析方式。当前返回值只能为 false。
- `domain` (String) 实例内网访问域名。
- `eip_id` (String) 公网 ID。
- `ip_address` (String) IP 地址。
- `network_type` (String) 网络类型：Private：私有网络 VPC。Public：公网访问。
- `port` (String) 实例内网访问端口。
- `subnet_id` (String) 子网 ID。子网必须属于所选的可用区。

## Import

Import is supported using the following syntax:

```shell
$ terraform import volcenginecc_vedbm_instance.example "instance_id"
```