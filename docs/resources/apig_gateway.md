---
page_title: "volcenginecc_apig_gateway Resource - terraform-provider-volcenginecc"
subcategory: ""
description: |-
  API网关(Gateway)是API管理服务的核心组件，负责接收、处理、转发API请求，并提供安全认证、流量控制等功能。
---

# volcenginecc_apig_gateway (Resource)

API网关(Gateway)是API管理服务的核心组件，负责接收、处理、转发API请求，并提供安全认证、流量控制等功能。

## Example Usage

```terraform
resource "volcenginecc_apig_gateway" "APIGGatewayDemo" {
  name       = "APIGGatewayDemo"
  type       = "standard"
  comments   = "APIGGatewayDemo comments"
  vpc_id     = "vpc-13f8k4dwdsydc3n6nu5rxxxxx"
  subnet_ids = ["subnet-***", "subnet-***"]
  resource_spec = {
    instance_spec_code          = "1c2g"
    replicas                    = 2
    clb_spec_code               = "small_1"
    public_network_bandwidth    = 1
    public_network_billing_type = "bandwidth"
    network_type = {
      enable_public_network  = true
      enable_private_network = true
    }
  }
  monitor_spec = {
    enable       = true
    workspace_id = "***"
  }
  log_spec = {
    enable     = true
    project_id = "***"
    topic_id   = "***"
  }
  trace_spec = {
    enable     = true
    trace_type = "tls"
    tls_trace_spec = {
      project_id  = "***"
      iam_user_ak = "***"
      iam_user_sk = "***"
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) 网关名称。

### Optional

- `comments` (String) 网关备注信息。长度限制为0~253个字符。
- `custom_log` (Attributes) 自定义日志配置。 (see [below for nested schema](#nestedatt--custom_log))
- `log_spec` (Attributes) 日志配置。 (see [below for nested schema](#nestedatt--log_spec))
- `monitor_spec` (Attributes) 监控配置信息。 (see [below for nested schema](#nestedatt--monitor_spec))
- `project_name` (String) 项目名称。
- `resource_spec` (Attributes) 资源规格配置信息。 (see [below for nested schema](#nestedatt--resource_spec))
- `subnet_ids` (Set of String) 子网ID列表。长度限制为1~2个。
- `trace_spec` (Attributes) 链路追踪配置信息。 (see [below for nested schema](#nestedatt--trace_spec))
- `type` (String) 网关类型，取值：standard：标准网关。serverless：Serverless网关（暂不支持）。
- `vpc_id` (String) VPC ID。

### Read-Only

- `backend_spec` (Attributes) 后端服务配置信息。 (see [below for nested schema](#nestedatt--backend_spec))
- `created_time` (String) 网关创建时间。
- `events` (Attributes Set) 事件。
 特别提示: 在使用 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--events))
- `gateway_id` (String) 网关实例ID。
- `id` (String) Uniquely identifies the resource.
- `message` (String) 网关创建失败、删除失败或异常时的错误信息。
- `network_spec` (Attributes) 网络配置信息。 (see [below for nested schema](#nestedatt--network_spec))
- `status` (String) 网关状态，取值：Creating：创建中。CreatedFailed：创建失败。Updating：更新中。Running：运行中。Deleting：删除中。DeletedFailed：删除失败。Abnormal：异常。
- `version` (String) 网关版本。

<a id="nestedatt--custom_log"></a>
### Nested Schema for `custom_log`

Optional:

- `custom_variables` (Attributes Set) 自定义变量信息。
 特别提示: 在使用 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--custom_log--custom_variables))
- `request_headers` (Attributes Set) 请求头信息。
 特别提示: 在使用 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--custom_log--request_headers))
- `response_headers` (Attributes Set) 响应头信息。
 特别提示: 在使用 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--custom_log--response_headers))

<a id="nestedatt--custom_log--custom_variables"></a>
### Nested Schema for `custom_log.custom_variables`

Optional:

- `aliases_in_log` (String) 字段别名。
- `key` (String) 请求头键。


<a id="nestedatt--custom_log--request_headers"></a>
### Nested Schema for `custom_log.request_headers`

Optional:

- `aliases_in_log` (String) 字段别名。
- `key` (String) 请求头键。


<a id="nestedatt--custom_log--response_headers"></a>
### Nested Schema for `custom_log.response_headers`

Optional:

- `aliases_in_log` (String) 字段别名。
- `key` (String) 请求头键。



<a id="nestedatt--log_spec"></a>
### Nested Schema for `log_spec`

Optional:

- `enable` (Boolean) 是否开启日志服务。
- `project_id` (String) 日志项目ID。
- `topic_id` (String) 日志主题ID。ProjectId 指定项目里面的日志主题。


<a id="nestedatt--monitor_spec"></a>
### Nested Schema for `monitor_spec`

Optional:

- `enable` (Boolean) 托管Prometheus（VMP）服务。
- `workspace_id` (String) Prometheus工作区ID。


<a id="nestedatt--resource_spec"></a>
### Nested Schema for `resource_spec`

Optional:

- `clb_spec_code` (String) CLB规格编码。CLB规格，取值：small_1：小型 I。small_2：小型 II。medium_1：中型 I。medium_2：中型 II。large_1：大型 I。large_2：大型 II。
- `instance_spec_code` (String) 节点规格，取值：1c2g。2c4g。4c8g。8c16g。
- `network_type` (Attributes) 网络类型。默认值为开启公网，开启私网。 (see [below for nested schema](#nestedatt--resource_spec--network_type))
- `public_network_bandwidth` (Number) 公网带宽上限，该字段仅用于“按带宽上限收费”公网网络计费方式。单位为Mbps。取值限制为0~500。默认值为0。
- `public_network_billing_type` (String) 公网网络计费方式，取值：traffic：按实际流量计费。bandwidth：按带宽上限计费。
- `replicas` (Number) 节点数量。取值限制为2~100。

<a id="nestedatt--resource_spec--network_type"></a>
### Nested Schema for `resource_spec.network_type`

Optional:

- `enable_private_network` (Boolean) 是否启用私网。
- `enable_public_network` (Boolean) 是否启用公网。



<a id="nestedatt--trace_spec"></a>
### Nested Schema for `trace_spec`

Optional:

- `apm_trace_spec` (Attributes) 应用性能监控全链路版链路追踪配置。 (see [below for nested schema](#nestedatt--trace_spec--apm_trace_spec))
- `enable` (Boolean) 是否启用链路追踪。
- `tls_trace_spec` (Attributes) 链路追踪配置信息。 (see [below for nested schema](#nestedatt--trace_spec--tls_trace_spec))
- `trace_type` (String) 链路追踪类型，取值：tls：日志服务。apm：应用性能监控全链路版。

<a id="nestedatt--trace_spec--apm_trace_spec"></a>
### Nested Schema for `trace_spec.apm_trace_spec`

Optional:

- `api_key` (String) API Key。


<a id="nestedatt--trace_spec--tls_trace_spec"></a>
### Nested Schema for `trace_spec.tls_trace_spec`

Optional:

- `iam_user_ak` (String) Access key。
- `iam_user_sk` (String) Secret key。
- `project_id` (String) 日志项目ID。

Read-Only:

- `trace_id` (String) Trace ID。



<a id="nestedatt--backend_spec"></a>
### Nested Schema for `backend_spec`

Read-Only:

- `is_vke_with_flannel_cni_supported` (Boolean) 是否支持VKE Flannel CNI。
- `vke_pod_cidr` (String) VKE Pod CIDR。


<a id="nestedatt--events"></a>
### Nested Schema for `events`

Read-Only:

- `code` (String) 事件代码。
- `created_time` (String) 事件创建时间。
- `data` (String) 附带信息。
- `description` (String) 事件描述。


<a id="nestedatt--network_spec"></a>
### Nested Schema for `network_spec`

Read-Only:

- `subnets` (Attributes Set) 子网配置信息列表。
 特别提示: 在使用 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。 (see [below for nested schema](#nestedatt--network_spec--subnets))
- `vpc_id` (String) VPC ID。
- `vpc_name` (String) VPC名称。

<a id="nestedatt--network_spec--subnets"></a>
### Nested Schema for `network_spec.subnets`

Read-Only:

- `az` (String) 可用区。
- `subnet_id` (String) 子网ID。
- `subnet_name` (String) 子网名称。

## Import

Import is supported using the following syntax:

```shell
$ terraform import volcenginecc_apig_gateway.example "gateway_id"
```