// Copyright (c) HashiCorp, Inc.
// SPDX-License-Identifier: MPL-2.0

// Code generated by generators/singular-data-source/main.go; DO NOT EDIT.

package rdsmysql

import (
	"context"

	"github.com/hashicorp/terraform-plugin-framework/datasource"
	"github.com/hashicorp/terraform-plugin-framework/datasource/schema"
	"github.com/hashicorp/terraform-plugin-framework/types"
	"github.com/volcengine/terraform-provider-volcenginecc/internal/generic"
	"github.com/volcengine/terraform-provider-volcenginecc/internal/registry"
)

func init() {
	registry.AddDataSourceFactory("volcenginecc_rdsmysql_allow_list", allowListDataSource)
}

// allowListDataSource returns the Terraform volcenginecc_rdsmysql_allow_list data source.
// This Terraform data source corresponds to the Cloud Control Volcengine::RDSMySQL::AllowList resource.
func allowListDataSource(ctx context.Context) (datasource.DataSource, error) {
	attributes := map[string]schema.Attribute{ /*START SCHEMA*/
		// Property: AllowList
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "白名单内的 IP 地址列表",
		//	  "insertionOrder": false,
		//	  "items": {
		//	    "type": "string"
		//	  },
		//	  "type": "array",
		//	  "uniqueItems": true
		//	}
		"allow_list": schema.SetAttribute{ /*START ATTRIBUTE*/
			ElementType: types.StringType,
			Description: "白名单内的 IP 地址列表",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: AllowListCategory
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "白名单分类。取值：Ordinary：普通白名单。Default：默认白名单。说明该参数作为请求参数时，默认值为 Ordinary。",
		//	  "type": "string"
		//	}
		"allow_list_category": schema.StringAttribute{ /*START ATTRIBUTE*/
			Description: "白名单分类。取值：Ordinary：普通白名单。Default：默认白名单。说明该参数作为请求参数时，默认值为 Ordinary。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: AllowListDesc
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "白名单的备注。",
		//	  "type": "string"
		//	}
		"allow_list_desc": schema.StringAttribute{ /*START ATTRIBUTE*/
			Description: "白名单的备注。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: AllowListIPNum
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "白名单内的 IP 地址（或地址段）总数。",
		//	  "type": "integer"
		//	}
		"allow_list_ip_num": schema.Int64Attribute{ /*START ATTRIBUTE*/
			Description: "白名单内的 IP 地址（或地址段）总数。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: AllowListId
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "白名单 ID 。",
		//	  "type": "string"
		//	}
		"allow_list_id": schema.StringAttribute{ /*START ATTRIBUTE*/
			Description: "白名单 ID 。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: AllowListName
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "白名单名称。",
		//	  "type": "string"
		//	}
		"allow_list_name": schema.StringAttribute{ /*START ATTRIBUTE*/
			Description: "白名单名称。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: AllowListType
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "白名单内的 IP 地址类型。当前仅支持 IPv4 地址。",
		//	  "type": "string"
		//	}
		"allow_list_type": schema.StringAttribute{ /*START ATTRIBUTE*/
			Description: "白名单内的 IP 地址类型。当前仅支持 IPv4 地址。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: AssociatedInstanceNum
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "白名单下绑定的实例总数。",
		//	  "type": "integer"
		//	}
		"associated_instance_num": schema.Int64Attribute{ /*START ATTRIBUTE*/
			Description: "白名单下绑定的实例总数。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: AssociatedInstances
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "已绑定当前白名单的实例信息。",
		//	  "insertionOrder": false,
		//	  "items": {
		//	    "properties": {
		//	      "InstanceId": {
		//	        "description": "已绑定当前白名单的实例 ID。",
		//	        "type": "string"
		//	      },
		//	      "InstanceName": {
		//	        "description": "已绑定当前白名单的实例名称。",
		//	        "type": "string"
		//	      },
		//	      "InstanceStatus": {
		//	        "description": "实例状态。",
		//	        "type": "string"
		//	      },
		//	      "IsLatest": {
		//	        "description": "是否已同步最新的白名单。取值：true：是。false：否。说明在修改白名单时，如实例状态未处于运行中，白名单的修改不会立即同步到实例。",
		//	        "type": "boolean"
		//	      },
		//	      "VPC": {
		//	        "description": "实例所属的私有网络 ID。",
		//	        "type": "string"
		//	      }
		//	    },
		//	    "type": "object"
		//	  },
		//	  "type": "array",
		//	  "uniqueItems": true
		//	}
		"associated_instances": schema.SetNestedAttribute{ /*START ATTRIBUTE*/
			NestedObject: schema.NestedAttributeObject{ /*START NESTED OBJECT*/
				Attributes: map[string]schema.Attribute{ /*START SCHEMA*/
					// Property: InstanceId
					"instance_id": schema.StringAttribute{ /*START ATTRIBUTE*/
						Description: "已绑定当前白名单的实例 ID。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
					// Property: InstanceName
					"instance_name": schema.StringAttribute{ /*START ATTRIBUTE*/
						Description: "已绑定当前白名单的实例名称。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
					// Property: InstanceStatus
					"instance_status": schema.StringAttribute{ /*START ATTRIBUTE*/
						Description: "实例状态。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
					// Property: IsLatest
					"is_latest": schema.BoolAttribute{ /*START ATTRIBUTE*/
						Description: "是否已同步最新的白名单。取值：true：是。false：否。说明在修改白名单时，如实例状态未处于运行中，白名单的修改不会立即同步到实例。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
					// Property: VPC
					"vpc": schema.StringAttribute{ /*START ATTRIBUTE*/
						Description: "实例所属的私有网络 ID。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
				}, /*END SCHEMA*/
			}, /*END NESTED OBJECT*/
			Description: "已绑定当前白名单的实例信息。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: IgnoreInstanceStatus
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "是否忽略实例状态校验。取值：true：是。false：否。默认值。",
		//	  "type": "boolean"
		//	}
		"ignore_instance_status": schema.BoolAttribute{ /*START ATTRIBUTE*/
			Description: "是否忽略实例状态校验。取值：true：是。false：否。默认值。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: InstanceId
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "实例 ID。",
		//	  "type": "string"
		//	}
		"instance_id": schema.StringAttribute{ /*START ATTRIBUTE*/
			Description: "实例 ID。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: IpList
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "白名单包含的 IP 地址和 IP 地址段的列表。在请求参数 WithIpList 取值为 true 时返回，在取值为 false 或不为其传值时返回为 null。",
		//	  "insertionOrder": false,
		//	  "items": {
		//	    "type": "string"
		//	  },
		//	  "type": "array",
		//	  "uniqueItems": true
		//	}
		"ip_list": schema.SetAttribute{ /*START ATTRIBUTE*/
			ElementType: types.StringType,
			Description: "白名单包含的 IP 地址和 IP 地址段的列表。在请求参数 WithIpList 取值为 true 时返回，在取值为 false 或不为其传值时返回为 null。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: ModifyMode
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "修改方式，取值范围如下：Cover（默认值）：使用 AllowList 参数中的值覆盖原白名单。Append：在原白名单中增加 AllowList 参数中输入的 IP 地址。Delete：在原白名单中删除 AllowList 参数中输入的 IP 地址。至少需要保留一个 IP 地址。",
		//	  "type": "string"
		//	}
		"modify_mode": schema.StringAttribute{ /*START ATTRIBUTE*/
			Description: "修改方式，取值范围如下：Cover（默认值）：使用 AllowList 参数中的值覆盖原白名单。Append：在原白名单中增加 AllowList 参数中输入的 IP 地址。Delete：在原白名单中删除 AllowList 参数中输入的 IP 地址。至少需要保留一个 IP 地址。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: ProjectName
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "所属的项目。说明如您调用接口使用的 AK/SK 属于某个子账号，且该子账号只拥有某个项目的权限，需要传入该请求参数。",
		//	  "type": "string"
		//	}
		"project_name": schema.StringAttribute{ /*START ATTRIBUTE*/
			Description: "所属的项目。说明如您调用接口使用的 AK/SK 属于某个子账号，且该子账号只拥有某个项目的权限，需要传入该请求参数。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: SecurityGroupBindInfos
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "白名单关联的安全组的信息。说明该字段不能与 SecurityGroupIds 同时使用。",
		//	  "insertionOrder": false,
		//	  "items": {
		//	    "properties": {
		//	      "BindMode": {
		//	        "description": "关联安全组的模式。取值：IngressDirectionIp：入方向 IP。AssociateEcsIp：关联 ECSIP。说明在 CreateAllowList 接口中，SecurityGroupBindInfoObject 的 BindMode 和 SecurityGroupId 字段为必填项。",
		//	        "type": "string"
		//	      },
		//	      "IpList": {
		//	        "description": "安全组的 IP 地址列表。",
		//	        "insertionOrder": false,
		//	        "items": {
		//	          "description": "安全组的 IP。",
		//	          "type": "string"
		//	        },
		//	        "type": "array",
		//	        "uniqueItems": true
		//	      },
		//	      "SecurityGroupId": {
		//	        "description": "安全组 ID。",
		//	        "type": "string"
		//	      },
		//	      "SecurityGroupName": {
		//	        "description": "安全组名称。",
		//	        "type": "string"
		//	      }
		//	    },
		//	    "type": "object"
		//	  },
		//	  "type": "array",
		//	  "uniqueItems": true
		//	}
		"security_group_bind_infos": schema.SetNestedAttribute{ /*START ATTRIBUTE*/
			NestedObject: schema.NestedAttributeObject{ /*START NESTED OBJECT*/
				Attributes: map[string]schema.Attribute{ /*START SCHEMA*/
					// Property: BindMode
					"bind_mode": schema.StringAttribute{ /*START ATTRIBUTE*/
						Description: "关联安全组的模式。取值：IngressDirectionIp：入方向 IP。AssociateEcsIp：关联 ECSIP。说明在 CreateAllowList 接口中，SecurityGroupBindInfoObject 的 BindMode 和 SecurityGroupId 字段为必填项。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
					// Property: IpList
					"ip_list": schema.SetAttribute{ /*START ATTRIBUTE*/
						ElementType: types.StringType,
						Description: "安全组的 IP 地址列表。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
					// Property: SecurityGroupId
					"security_group_id": schema.StringAttribute{ /*START ATTRIBUTE*/
						Description: "安全组 ID。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
					// Property: SecurityGroupName
					"security_group_name": schema.StringAttribute{ /*START ATTRIBUTE*/
						Description: "安全组名称。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
				}, /*END SCHEMA*/
			}, /*END NESTED OBJECT*/
			Description: "白名单关联的安全组的信息。说明该字段不能与 SecurityGroupIds 同时使用。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: SecurityGroupIds
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "需要关联的安全组 ID 列表。说明您可以调用 DescribeSecurityGroups 接口查询安全组信息，包括安全组 ID。单个白名单单次最多可选择添加 10 个安全组。该字段不能与 SecurityGroupBindInfos 同时使用。",
		//	  "insertionOrder": false,
		//	  "items": {
		//	    "type": "string"
		//	  },
		//	  "type": "array",
		//	  "uniqueItems": true
		//	}
		"security_group_ids": schema.SetAttribute{ /*START ATTRIBUTE*/
			ElementType: types.StringType,
			Description: "需要关联的安全组 ID 列表。说明您可以调用 DescribeSecurityGroups 接口查询安全组信息，包括安全组 ID。单个白名单单次最多可选择添加 10 个安全组。该字段不能与 SecurityGroupBindInfos 同时使用。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: UpdateSecurityGroup
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "是否更新白名单所绑定的安全组。true：更新。false：不更新。默认值。说明该字段仅在白名单已绑定了安全组时生效。可调用 DescribeAllowLists 接口查询白名单是否绑定了安全组。",
		//	  "type": "boolean"
		//	}
		"update_security_group": schema.BoolAttribute{ /*START ATTRIBUTE*/
			Description: "是否更新白名单所绑定的安全组。true：更新。false：不更新。默认值。说明该字段仅在白名单已绑定了安全组时生效。可调用 DescribeAllowLists 接口查询白名单是否绑定了安全组。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: UserAllowList
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "该名单中由用户输入的 IP 地址。AllowList 字段中的 IP 为 UserAllowList 和 SecurityGroupBindInfos 包含的 IP 的并集。",
		//	  "insertionOrder": false,
		//	  "items": {
		//	    "type": "string"
		//	  },
		//	  "type": "array",
		//	  "uniqueItems": true
		//	}
		"user_allow_list": schema.SetAttribute{ /*START ATTRIBUTE*/
			ElementType: types.StringType,
			Description: "该名单中由用户输入的 IP 地址。AllowList 字段中的 IP 为 UserAllowList 和 SecurityGroupBindInfos 包含的 IP 的并集。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
	} /*END SCHEMA*/

	attributes["id"] = schema.StringAttribute{
		Description: "Uniquely identifies the resource.",
		Required:    true,
	}

	schema := schema.Schema{
		Description: "Data Source schema for Volcengine::RDSMySQL::AllowList",
		Attributes:  attributes,
	}

	var opts generic.DataSourceOptions

	opts = opts.WithCloudControlTypeName("Volcengine::RDSMySQL::AllowList").WithTerraformTypeName("volcenginecc_rdsmysql_allow_list")
	opts = opts.WithTerraformSchema(schema)
	opts = opts.WithAttributeNameMap(map[string]string{
		"allow_list":                "AllowList",
		"allow_list_category":       "AllowListCategory",
		"allow_list_desc":           "AllowListDesc",
		"allow_list_id":             "AllowListId",
		"allow_list_ip_num":         "AllowListIPNum",
		"allow_list_name":           "AllowListName",
		"allow_list_type":           "AllowListType",
		"associated_instance_num":   "AssociatedInstanceNum",
		"associated_instances":      "AssociatedInstances",
		"bind_mode":                 "BindMode",
		"ignore_instance_status":    "IgnoreInstanceStatus",
		"instance_id":               "InstanceId",
		"instance_name":             "InstanceName",
		"instance_status":           "InstanceStatus",
		"ip_list":                   "IpList",
		"is_latest":                 "IsLatest",
		"modify_mode":               "ModifyMode",
		"project_name":              "ProjectName",
		"security_group_bind_infos": "SecurityGroupBindInfos",
		"security_group_id":         "SecurityGroupId",
		"security_group_ids":        "SecurityGroupIds",
		"security_group_name":       "SecurityGroupName",
		"update_security_group":     "UpdateSecurityGroup",
		"user_allow_list":           "UserAllowList",
		"vpc":                       "VPC",
	})

	v, err := generic.NewSingularDataSource(ctx, opts...)

	if err != nil {
		return nil, err
	}

	return v, nil
}
