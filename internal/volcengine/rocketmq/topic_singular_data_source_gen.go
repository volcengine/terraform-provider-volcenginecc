// Copyright (c) HashiCorp, Inc.
// SPDX-License-Identifier: MPL-2.0

// Code generated by generators/singular-data-source/main.go; DO NOT EDIT.

package rocketmq

import (
	"context"

	"github.com/hashicorp/terraform-plugin-framework/datasource"
	"github.com/hashicorp/terraform-plugin-framework/datasource/schema"
	"github.com/volcengine/terraform-provider-volcenginecc/internal/generic"
	"github.com/volcengine/terraform-provider-volcenginecc/internal/registry"
)

func init() {
	registry.AddDataSourceFactory("volcenginecc_rocketmq_topic", topicDataSource)
}

// topicDataSource returns the Terraform volcenginecc_rocketmq_topic data source.
// This Terraform data source corresponds to the Cloud Control Volcengine::RocketMQ::Topic resource.
func topicDataSource(ctx context.Context) (datasource.DataSource, error) {
	attributes := map[string]schema.Attribute{ /*START SCHEMA*/
		// Property: AccessPolicies
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "每个 RocketMQ 密钥对于当前 Topic 的权限，支持批量设置权限。若未设置，每个密钥对于当前 Topic 维持密钥的默认权限。",
		//	  "insertionOrder": true,
		//	  "items": {
		//	    "properties": {
		//	      "AccessKey": {
		//	        "description": "RocketMQ 密钥的 AccessKey。",
		//	        "type": "string"
		//	      },
		//	      "Authority": {
		//	        "description": "用户对于当前Topic的访问权限。ALL：拥有发布、订阅权限。PUB：拥有发布权限。SUB：拥有订阅权限。DENY：不具备发布或订阅权限。",
		//	        "type": "string"
		//	      }
		//	    },
		//	    "type": "object"
		//	  },
		//	  "type": "array",
		//	  "uniqueItems": true
		//	}
		"access_policies": schema.ListNestedAttribute{ /*START ATTRIBUTE*/
			NestedObject: schema.NestedAttributeObject{ /*START NESTED OBJECT*/
				Attributes: map[string]schema.Attribute{ /*START SCHEMA*/
					// Property: AccessKey
					"access_key": schema.StringAttribute{ /*START ATTRIBUTE*/
						Description: "RocketMQ 密钥的 AccessKey。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
					// Property: Authority
					"authority": schema.StringAttribute{ /*START ATTRIBUTE*/
						Description: "用户对于当前Topic的访问权限。ALL：拥有发布、订阅权限。PUB：拥有发布权限。SUB：拥有订阅权限。DENY：不具备发布或订阅权限。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
				}, /*END SCHEMA*/
			}, /*END NESTED OBJECT*/
			Description: "每个 RocketMQ 密钥对于当前 Topic 的权限，支持批量设置权限。若未设置，每个密钥对于当前 Topic 维持密钥的默认权限。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: CreatedTime
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "Topic 创建时间。",
		//	  "type": "string"
		//	}
		"created_time": schema.StringAttribute{ /*START ATTRIBUTE*/
			Description: "Topic 创建时间。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: Description
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "Topic 的描述信息，长度为 0~128 个字符。",
		//	  "maxLength": 128,
		//	  "type": "string"
		//	}
		"description": schema.StringAttribute{ /*START ATTRIBUTE*/
			Description: "Topic 的描述信息，长度为 0~128 个字符。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: GroupsInfos
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "消费者组信息列表。",
		//	  "insertionOrder": false,
		//	  "items": {
		//	    "properties": {
		//	      "GroupId": {
		//	        "description": "消费组的 Group ID。",
		//	        "type": "string"
		//	      },
		//	      "MessageModel": {
		//	        "description": "消费模式。取值说明如下：Clustering：集群消费模式。Broadcasting：广播消费模式。",
		//	        "type": "string"
		//	      },
		//	      "SubString": {
		//	        "description": "订阅的规则，此字段直接透传消费组订阅此 Topic 时指定的字符串，一般为 * 或 TAG1 || TAG2。",
		//	        "type": "string"
		//	      }
		//	    },
		//	    "type": "object"
		//	  },
		//	  "type": "array",
		//	  "uniqueItems": true
		//	}
		"groups_infos": schema.SetNestedAttribute{ /*START ATTRIBUTE*/
			NestedObject: schema.NestedAttributeObject{ /*START NESTED OBJECT*/
				Attributes: map[string]schema.Attribute{ /*START SCHEMA*/
					// Property: GroupId
					"group_id": schema.StringAttribute{ /*START ATTRIBUTE*/
						Description: "消费组的 Group ID。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
					// Property: MessageModel
					"message_model": schema.StringAttribute{ /*START ATTRIBUTE*/
						Description: "消费模式。取值说明如下：Clustering：集群消费模式。Broadcasting：广播消费模式。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
					// Property: SubString
					"sub_string": schema.StringAttribute{ /*START ATTRIBUTE*/
						Description: "订阅的规则，此字段直接透传消费组订阅此 Topic 时指定的字符串，一般为 * 或 TAG1 || TAG2。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
				}, /*END SCHEMA*/
			}, /*END NESTED OBJECT*/
			Description: "消费者组信息列表。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: InstanceId
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "实例 ID。",
		//	  "type": "string"
		//	}
		"instance_id": schema.StringAttribute{ /*START ATTRIBUTE*/
			Description: "实例 ID。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: InstanceName
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "实例名称。",
		//	  "type": "string"
		//	}
		"instance_name": schema.StringAttribute{ /*START ATTRIBUTE*/
			Description: "实例名称。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: MessageType
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "消息类型。设置此参数表示根据指定的消息类型筛选 Topic 列表。取值说明如下：0：普通消息。1：事务消息。2：分区顺序消息。3：全局顺序消息。4：延时消息。",
		//	  "type": "integer"
		//	}
		"message_type": schema.Int64Attribute{ /*START ATTRIBUTE*/
			Description: "消息类型。设置此参数表示根据指定的消息类型筛选 Topic 列表。取值说明如下：0：普通消息。1：事务消息。2：分区顺序消息。3：全局顺序消息。4：延时消息。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: QueueNumber
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "设置当前 Topic 的队列数量，最大不可超过当前实例剩余可用队列数。每个实例规格的队列数量限制请参考产品规格。在 4.x 版本实例中创建 Topic 时，请参考以下说明设置队列数：全局顺序类型的 Topic 队列数默认为 1。其他类型 Topic 的队列数和计算规格有关，n3 及以下规格的队列数默认为 6，n3 以上规格的队列数默认是 broker 组数的两倍。队列数建议设置为计算节点数的倍数，否则可能造成不同 Broker 之间数据不均衡。例如规格 rocketmq.n3.x2.medium 的计算节点数为 3，队列数建议设置为 3 的倍数，即 3、6、9 等。在 5.x 版本实例中创建 Topic 时，请参考以下说明设置队列数：全局顺序类型的 Topic 队列数默认为 1。其他类型 Topic 的队列数默认是 broker 组数的两倍。非顺序场景性能不受队列个数影响，更多队列仅用于提升顺序消费并发性能。",
		//	  "type": "integer"
		//	}
		"queue_number": schema.Int64Attribute{ /*START ATTRIBUTE*/
			Description: "设置当前 Topic 的队列数量，最大不可超过当前实例剩余可用队列数。每个实例规格的队列数量限制请参考产品规格。在 4.x 版本实例中创建 Topic 时，请参考以下说明设置队列数：全局顺序类型的 Topic 队列数默认为 1。其他类型 Topic 的队列数和计算规格有关，n3 及以下规格的队列数默认为 6，n3 以上规格的队列数默认是 broker 组数的两倍。队列数建议设置为计算节点数的倍数，否则可能造成不同 Broker 之间数据不均衡。例如规格 rocketmq.n3.x2.medium 的计算节点数为 3，队列数建议设置为 3 的倍数，即 3、6、9 等。在 5.x 版本实例中创建 Topic 时，请参考以下说明设置队列数：全局顺序类型的 Topic 队列数默认为 1。其他类型 Topic 的队列数默认是 broker 组数的两倍。非顺序场景性能不受队列个数影响，更多队列仅用于提升顺序消费并发性能。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: QueuesInfos
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "队列信息列表。",
		//	  "insertionOrder": false,
		//	  "items": {
		//	    "properties": {
		//	      "EndOffset": {
		//	        "description": "当前队列的最大偏移量，即下一条消息的偏移量，当前最新消息的位置为 EndOffset - 1。",
		//	        "type": "integer"
		//	      },
		//	      "LastUpdateTimestamp": {
		//	        "description": "该队列最近一次消息写入的时间。",
		//	        "format": "int64",
		//	        "type": "integer"
		//	      },
		//	      "MessageCount": {
		//	        "description": "当前队列队列内的消息个数。EndOffset 为下一条消息的偏移量，所以 MessageCount=EndOffset-StartOffset。",
		//	        "type": "integer"
		//	      },
		//	      "QueueId": {
		//	        "description": "队列的编号 ID。",
		//	        "type": "string"
		//	      },
		//	      "StartOffset": {
		//	        "description": "当前队列最早消息的偏移量。",
		//	        "type": "integer"
		//	      }
		//	    },
		//	    "type": "object"
		//	  },
		//	  "type": "array",
		//	  "uniqueItems": true
		//	}
		"queues_infos": schema.SetNestedAttribute{ /*START ATTRIBUTE*/
			NestedObject: schema.NestedAttributeObject{ /*START NESTED OBJECT*/
				Attributes: map[string]schema.Attribute{ /*START SCHEMA*/
					// Property: EndOffset
					"end_offset": schema.Int64Attribute{ /*START ATTRIBUTE*/
						Description: "当前队列的最大偏移量，即下一条消息的偏移量，当前最新消息的位置为 EndOffset   - 1。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
					// Property: LastUpdateTimestamp
					"last_update_timestamp": schema.Int64Attribute{ /*START ATTRIBUTE*/
						Description: "该队列最近一次消息写入的时间。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
					// Property: MessageCount
					"message_count": schema.Int64Attribute{ /*START ATTRIBUTE*/
						Description: "当前队列队列内的消息个数。EndOffset 为下一条消息的偏移量，所以 MessageCount=EndOffset-StartOffset。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
					// Property: QueueId
					"queue_id": schema.StringAttribute{ /*START ATTRIBUTE*/
						Description: "队列的编号 ID。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
					// Property: StartOffset
					"start_offset": schema.Int64Attribute{ /*START ATTRIBUTE*/
						Description: "当前队列最早消息的偏移量。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
				}, /*END SCHEMA*/
			}, /*END NESTED OBJECT*/
			Description: "队列信息列表。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: ReadAccessPolicies
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "每个 RocketMQ 密钥对于当前 Topic 的权限，读字段",
		//	  "insertionOrder": false,
		//	  "items": {
		//	    "properties": {
		//	      "AccessKey": {
		//	        "description": "RocketMQ 密钥的 AccessKey。",
		//	        "type": "string"
		//	      },
		//	      "Authority": {
		//	        "description": "用户对于当前Topic的访问权限。ALL：拥有发布、订阅权限。PUB：拥有发布权限。SUB：拥有订阅权限。DENY：不具备发布或订阅权限。",
		//	        "type": "string"
		//	      }
		//	    },
		//	    "type": "object"
		//	  },
		//	  "type": "array",
		//	  "uniqueItems": true
		//	}
		"read_access_policies": schema.SetNestedAttribute{ /*START ATTRIBUTE*/
			NestedObject: schema.NestedAttributeObject{ /*START NESTED OBJECT*/
				Attributes: map[string]schema.Attribute{ /*START SCHEMA*/
					// Property: AccessKey
					"access_key": schema.StringAttribute{ /*START ATTRIBUTE*/
						Description: "RocketMQ 密钥的 AccessKey。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
					// Property: Authority
					"authority": schema.StringAttribute{ /*START ATTRIBUTE*/
						Description: "用户对于当前Topic的访问权限。ALL：拥有发布、订阅权限。PUB：拥有发布权限。SUB：拥有订阅权限。DENY：不具备发布或订阅权限。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
				}, /*END SCHEMA*/
			}, /*END NESTED OBJECT*/
			Description: "每个 RocketMQ 密钥对于当前 Topic 的权限，读字段",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: ServiceStatus
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "服务状态。Creating：创建中，Running：运行中，Deleting：删除中，Abnormal：异常，Updating：更新中。",
		//	  "type": "string"
		//	}
		"service_status": schema.StringAttribute{ /*START ATTRIBUTE*/
			Description: "服务状态。Creating：创建中，Running：运行中，Deleting：删除中，Abnormal：异常，Updating：更新中。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
		// Property: TopicName
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "Topic 的名称。命名规则如下：长度为 3~100 个字符。只能包含英文、数字、连字符（-）以及下划线（_）。Topic 名称中不可包含以下保留字符或特殊前缀。保留字符：RMQ_SYS_TRANS_OP_HALF_TOPIC、BenchmarkTest、TBW102、OFFSET_MOVED_EVENT、SELF_TEST_TOPIC、RMQ_SYS_TRANS_HALF_TOPIC、SCHEDULE_TOPIC_XXXX、RMQ_SYS_TRACE_TOPIC。特殊前缀：rocketmq-broker-、%RETRY%、rmq_sys_、%DLQ%。",
		//	  "maxLength": 100,
		//	  "minLength": 3,
		//	  "type": "string"
		//	}
		"topic_name": schema.StringAttribute{ /*START ATTRIBUTE*/
			Description: "Topic 的名称。命名规则如下：长度为 3~100 个字符。只能包含英文、数字、连字符（-）以及下划线（_）。Topic 名称中不可包含以下保留字符或特殊前缀。保留字符：RMQ_SYS_TRANS_OP_HALF_TOPIC、BenchmarkTest、TBW102、OFFSET_MOVED_EVENT、SELF_TEST_TOPIC、RMQ_SYS_TRANS_HALF_TOPIC、SCHEDULE_TOPIC_XXXX、RMQ_SYS_TRACE_TOPIC。特殊前缀：rocketmq-broker-、%RETRY%、rmq_sys_、%DLQ%。",
			Computed:    true,
		}, /*END ATTRIBUTE*/
	} /*END SCHEMA*/

	attributes["id"] = schema.StringAttribute{
		Description: "Uniquely identifies the resource.",
		Required:    true,
	}

	schema := schema.Schema{
		Description: "Data Source schema for Volcengine::RocketMQ::Topic",
		Attributes:  attributes,
	}

	var opts generic.DataSourceOptions

	opts = opts.WithCloudControlTypeName("Volcengine::RocketMQ::Topic").WithTerraformTypeName("volcenginecc_rocketmq_topic")
	opts = opts.WithTerraformSchema(schema)
	opts = opts.WithAttributeNameMap(map[string]string{
		"access_key":            "AccessKey",
		"access_policies":       "AccessPolicies",
		"authority":             "Authority",
		"created_time":          "CreatedTime",
		"description":           "Description",
		"end_offset":            "EndOffset",
		"group_id":              "GroupId",
		"groups_infos":          "GroupsInfos",
		"instance_id":           "InstanceId",
		"instance_name":         "InstanceName",
		"last_update_timestamp": "LastUpdateTimestamp",
		"message_count":         "MessageCount",
		"message_model":         "MessageModel",
		"message_type":          "MessageType",
		"queue_id":              "QueueId",
		"queue_number":          "QueueNumber",
		"queues_infos":          "QueuesInfos",
		"read_access_policies":  "ReadAccessPolicies",
		"service_status":        "ServiceStatus",
		"start_offset":          "StartOffset",
		"sub_string":            "SubString",
		"topic_name":            "TopicName",
	})

	v, err := generic.NewSingularDataSource(ctx, opts...)

	if err != nil {
		return nil, err
	}

	return v, nil
}
