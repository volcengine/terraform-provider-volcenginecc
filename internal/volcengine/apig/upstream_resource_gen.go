// Copyright (c) HashiCorp, Inc.
// SPDX-License-Identifier: MPL-2.0

// Code generated by generators/resource/main.go; DO NOT EDIT.

package apig

import (
	"context"

	"github.com/hashicorp/terraform-plugin-framework-validators/stringvalidator"
	"github.com/hashicorp/terraform-plugin-framework/resource"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/boolplanmodifier"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/int64default"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/int64planmodifier"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/objectplanmodifier"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/planmodifier"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/setplanmodifier"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/stringplanmodifier"
	"github.com/hashicorp/terraform-plugin-framework/schema/validator"
	"github.com/volcengine/terraform-provider-volcenginecc/internal/generic"
	"github.com/volcengine/terraform-provider-volcenginecc/internal/registry"
)

func init() {
	registry.AddResourceFactory("volcenginecc_apig_upstream", upstreamResource)
}

// upstreamResource returns the Terraform volcenginecc_apig_upstream resource.
// This Terraform resource corresponds to the Cloud Control Volcengine::APIG::Upstream resource.
func upstreamResource(ctx context.Context) (resource.Resource, error) {
	attributes := map[string]schema.Attribute{ /*START SCHEMA*/
		// Property: BackendTargets
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "后端节点，Upstream来源类型为VeFaas时无效。",
		//	  "insertionOrder": false,
		//	  "items": {
		//	    "description": "后端节点，Upstream来源类型为VeFaas时无效。",
		//	    "properties": {
		//	      "HealthStatus": {
		//	        "description": "健康检查状态。",
		//	        "type": "string"
		//	      },
		//	      "IP": {
		//	        "description": "后端节点IP。",
		//	        "type": "string"
		//	      },
		//	      "Port": {
		//	        "description": "后端节点端口。",
		//	        "type": "integer"
		//	      }
		//	    },
		//	    "type": "object"
		//	  },
		//	  "type": "array",
		//	  "uniqueItems": true
		//	}
		"backend_targets": schema.SetNestedAttribute{ /*START ATTRIBUTE*/
			NestedObject: schema.NestedAttributeObject{ /*START NESTED OBJECT*/
				Attributes: map[string]schema.Attribute{ /*START SCHEMA*/
					// Property: HealthStatus
					"health_status": schema.StringAttribute{ /*START ATTRIBUTE*/
						Description: "健康检查状态。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
					// Property: IP
					"ip": schema.StringAttribute{ /*START ATTRIBUTE*/
						Description: "后端节点IP。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
					// Property: Port
					"port": schema.Int64Attribute{ /*START ATTRIBUTE*/
						Description: "后端节点端口。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
				}, /*END SCHEMA*/
			}, /*END NESTED OBJECT*/
			Description: "后端节点，Upstream来源类型为VeFaas时无效。\n 特别提示: 在使用 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。",
			Computed:    true,
			PlanModifiers: []planmodifier.Set{ /*START PLAN MODIFIERS*/
				setplanmodifier.UseStateForUnknown(),
			}, /*END PLAN MODIFIERS*/
		}, /*END ATTRIBUTE*/
		// Property: CircuitBreakingSettings
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "服务熔断配置。",
		//	  "properties": {
		//	    "BaseEjectionTime": {
		//	      "default": 30,
		//	      "description": "最小弹出时间。单位为毫秒。取值限制为1~86400000。默认值为30秒。",
		//	      "format": "int64",
		//	      "type": "integer"
		//	    },
		//	    "ConsecutiveErrors": {
		//	      "description": "连续失败次数。取值限制为1~100。默认值为5。",
		//	      "format": "int64",
		//	      "type": "integer"
		//	    },
		//	    "Enable": {
		//	      "description": "开启。",
		//	      "type": "boolean"
		//	    },
		//	    "Interval": {
		//	      "default": 10,
		//	      "description": "计算周期。单位为毫秒。取值限制为1~86400000。默认值为10秒。",
		//	      "format": "int64",
		//	      "type": "integer"
		//	    },
		//	    "MaxEjectionPercent": {
		//	      "default": 20,
		//	      "description": "最大熔断比例。取值限制为1~100。默认值为20%。",
		//	      "format": "int64",
		//	      "type": "integer"
		//	    },
		//	    "MinHealthPercent": {
		//	      "default": 60,
		//	      "description": "最小健康比例。取值限制为0~100。默认值为60%。",
		//	      "format": "int64",
		//	      "type": "integer"
		//	    }
		//	  },
		//	  "type": "object"
		//	}
		"circuit_breaking_settings": schema.SingleNestedAttribute{ /*START ATTRIBUTE*/
			Attributes: map[string]schema.Attribute{ /*START SCHEMA*/
				// Property: BaseEjectionTime
				"base_ejection_time": schema.Int64Attribute{ /*START ATTRIBUTE*/
					Description: "最小弹出时间。单位为毫秒。取值限制为1~86400000。默认值为30秒。",
					Optional:    true,
					Computed:    true,
					Default:     int64default.StaticInt64(30),
					PlanModifiers: []planmodifier.Int64{ /*START PLAN MODIFIERS*/
						int64planmodifier.UseStateForUnknown(),
					}, /*END PLAN MODIFIERS*/
				}, /*END ATTRIBUTE*/
				// Property: ConsecutiveErrors
				"consecutive_errors": schema.Int64Attribute{ /*START ATTRIBUTE*/
					Description: "连续失败次数。取值限制为1~100。默认值为5。",
					Optional:    true,
					Computed:    true,
					PlanModifiers: []planmodifier.Int64{ /*START PLAN MODIFIERS*/
						int64planmodifier.UseStateForUnknown(),
					}, /*END PLAN MODIFIERS*/
				}, /*END ATTRIBUTE*/
				// Property: Enable
				"enable": schema.BoolAttribute{ /*START ATTRIBUTE*/
					Description: "开启。",
					Optional:    true,
					Computed:    true,
					PlanModifiers: []planmodifier.Bool{ /*START PLAN MODIFIERS*/
						boolplanmodifier.UseStateForUnknown(),
					}, /*END PLAN MODIFIERS*/
				}, /*END ATTRIBUTE*/
				// Property: Interval
				"interval": schema.Int64Attribute{ /*START ATTRIBUTE*/
					Description: "计算周期。单位为毫秒。取值限制为1~86400000。默认值为10秒。",
					Optional:    true,
					Computed:    true,
					Default:     int64default.StaticInt64(10),
					PlanModifiers: []planmodifier.Int64{ /*START PLAN MODIFIERS*/
						int64planmodifier.UseStateForUnknown(),
					}, /*END PLAN MODIFIERS*/
				}, /*END ATTRIBUTE*/
				// Property: MaxEjectionPercent
				"max_ejection_percent": schema.Int64Attribute{ /*START ATTRIBUTE*/
					Description: "最大熔断比例。取值限制为1~100。默认值为20%。",
					Optional:    true,
					Computed:    true,
					Default:     int64default.StaticInt64(20),
					PlanModifiers: []planmodifier.Int64{ /*START PLAN MODIFIERS*/
						int64planmodifier.UseStateForUnknown(),
					}, /*END PLAN MODIFIERS*/
				}, /*END ATTRIBUTE*/
				// Property: MinHealthPercent
				"min_health_percent": schema.Int64Attribute{ /*START ATTRIBUTE*/
					Description: "最小健康比例。取值限制为0~100。默认值为60%。",
					Optional:    true,
					Computed:    true,
					Default:     int64default.StaticInt64(60),
					PlanModifiers: []planmodifier.Int64{ /*START PLAN MODIFIERS*/
						int64planmodifier.UseStateForUnknown(),
					}, /*END PLAN MODIFIERS*/
				}, /*END ATTRIBUTE*/
			}, /*END SCHEMA*/
			Description: "服务熔断配置。",
			Optional:    true,
			Computed:    true,
			PlanModifiers: []planmodifier.Object{ /*START PLAN MODIFIERS*/
				objectplanmodifier.UseStateForUnknown(),
			}, /*END PLAN MODIFIERS*/
		}, /*END ATTRIBUTE*/
		// Property: Comments
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "备注。",
		//	  "type": "string"
		//	}
		"comments": schema.StringAttribute{ /*START ATTRIBUTE*/
			Description: "备注。",
			Optional:    true,
			Computed:    true,
			PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
				stringplanmodifier.UseStateForUnknown(),
			}, /*END PLAN MODIFIERS*/
		}, /*END ATTRIBUTE*/
		// Property: CreatedTime
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "Upstream创建时间。",
		//	  "type": "string"
		//	}
		"created_time": schema.StringAttribute{ /*START ATTRIBUTE*/
			Description: "Upstream创建时间。",
			Computed:    true,
			PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
				stringplanmodifier.UseStateForUnknown(),
			}, /*END PLAN MODIFIERS*/
		}, /*END ATTRIBUTE*/
		// Property: GatewayId
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "网关实例ID。",
		//	  "type": "string"
		//	}
		"gateway_id": schema.StringAttribute{ /*START ATTRIBUTE*/
			Description: "网关实例ID。",
			Required:    true,
			PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
				stringplanmodifier.RequiresReplace(),
			}, /*END PLAN MODIFIERS*/
		}, /*END ATTRIBUTE*/
		// Property: LoadBalancerSettings
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "负载均衡配置。",
		//	  "properties": {
		//	    "ConsistentHashLB": {
		//	      "description": "一致性哈希负载均衡。",
		//	      "properties": {
		//	        "HTTPCookie": {
		//	          "description": "Cookie。",
		//	          "properties": {
		//	            "Name": {
		//	              "description": "名称。支持ASCII可打印字符，长度限制为0~256个字符。",
		//	              "maxLength": 256,
		//	              "minLength": 0,
		//	              "type": "string"
		//	            },
		//	            "Path": {
		//	              "description": "路径。支持ASCII可打印字符，长度限制为1~256个字符。",
		//	              "type": "string"
		//	            },
		//	            "Ttl": {
		//	              "description": "有效期。单位为秒。",
		//	              "type": "integer"
		//	            }
		//	          },
		//	          "type": "object"
		//	        },
		//	        "HashKey": {
		//	          "description": "一致性哈希方式，取值：UseSourceIp：基于源IP地址。HttpQueryParameterName：基于参数。HttpHeaderName：基于头。HTTPCookie：基于cookie。",
		//	          "type": "string"
		//	        },
		//	        "HttpHeaderName": {
		//	          "description": "参数。支持ASCII可打印字符，长度限制为1~256个字符。",
		//	          "type": "string"
		//	        },
		//	        "HttpQueryParameterName": {
		//	          "description": "参数。支持ASCII可打印字符，长度限制为1~256个字符。",
		//	          "type": "string"
		//	        },
		//	        "UseSourceIp": {
		//	          "description": "源IP地址。",
		//	          "type": "string"
		//	        }
		//	      },
		//	      "type": "object"
		//	    },
		//	    "LbPolicy": {
		//	      "description": "负载均衡策略，取值：SimpleLB：简单负载均衡。ConsistentHashLB：一致性哈希负载均衡。",
		//	      "type": "string"
		//	    },
		//	    "SimpleLB": {
		//	      "description": "简单负载均衡，取值：ROUND_ROBIN：轮询。LEAST_CONN：最小连接数。RANDOM：随机。",
		//	      "type": "string"
		//	    },
		//	    "WarmupDuration": {
		//	      "description": "预热时间。单位为秒。",
		//	      "format": "int64",
		//	      "type": "integer"
		//	    }
		//	  },
		//	  "type": "object"
		//	}
		"load_balancer_settings": schema.SingleNestedAttribute{ /*START ATTRIBUTE*/
			Attributes: map[string]schema.Attribute{ /*START SCHEMA*/
				// Property: ConsistentHashLB
				"consistent_hash_lb": schema.SingleNestedAttribute{ /*START ATTRIBUTE*/
					Attributes: map[string]schema.Attribute{ /*START SCHEMA*/
						// Property: HTTPCookie
						"http_cookie": schema.SingleNestedAttribute{ /*START ATTRIBUTE*/
							Attributes: map[string]schema.Attribute{ /*START SCHEMA*/
								// Property: Name
								"name": schema.StringAttribute{ /*START ATTRIBUTE*/
									Description: "名称。支持ASCII可打印字符，长度限制为0~256个字符。",
									Optional:    true,
									Computed:    true,
									Validators: []validator.String{ /*START VALIDATORS*/
										stringvalidator.LengthBetween(0, 256),
									}, /*END VALIDATORS*/
									PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
										stringplanmodifier.UseStateForUnknown(),
									}, /*END PLAN MODIFIERS*/
								}, /*END ATTRIBUTE*/
								// Property: Path
								"path": schema.StringAttribute{ /*START ATTRIBUTE*/
									Description: "路径。支持ASCII可打印字符，长度限制为1~256个字符。",
									Optional:    true,
									Computed:    true,
									PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
										stringplanmodifier.UseStateForUnknown(),
									}, /*END PLAN MODIFIERS*/
								}, /*END ATTRIBUTE*/
								// Property: Ttl
								"ttl": schema.Int64Attribute{ /*START ATTRIBUTE*/
									Description: "有效期。单位为秒。",
									Optional:    true,
									Computed:    true,
									PlanModifiers: []planmodifier.Int64{ /*START PLAN MODIFIERS*/
										int64planmodifier.UseStateForUnknown(),
									}, /*END PLAN MODIFIERS*/
								}, /*END ATTRIBUTE*/
							}, /*END SCHEMA*/
							Description: "Cookie。",
							Optional:    true,
							Computed:    true,
							PlanModifiers: []planmodifier.Object{ /*START PLAN MODIFIERS*/
								objectplanmodifier.UseStateForUnknown(),
							}, /*END PLAN MODIFIERS*/
						}, /*END ATTRIBUTE*/
						// Property: HashKey
						"hash_key": schema.StringAttribute{ /*START ATTRIBUTE*/
							Description: "一致性哈希方式，取值：UseSourceIp：基于源IP地址。HttpQueryParameterName：基于参数。HttpHeaderName：基于头。HTTPCookie：基于cookie。",
							Optional:    true,
							Computed:    true,
							PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
								stringplanmodifier.UseStateForUnknown(),
							}, /*END PLAN MODIFIERS*/
						}, /*END ATTRIBUTE*/
						// Property: HttpHeaderName
						"http_header_name": schema.StringAttribute{ /*START ATTRIBUTE*/
							Description: "参数。支持ASCII可打印字符，长度限制为1~256个字符。",
							Optional:    true,
							Computed:    true,
							PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
								stringplanmodifier.UseStateForUnknown(),
							}, /*END PLAN MODIFIERS*/
						}, /*END ATTRIBUTE*/
						// Property: HttpQueryParameterName
						"http_query_parameter_name": schema.StringAttribute{ /*START ATTRIBUTE*/
							Description: "参数。支持ASCII可打印字符，长度限制为1~256个字符。",
							Optional:    true,
							Computed:    true,
							PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
								stringplanmodifier.UseStateForUnknown(),
							}, /*END PLAN MODIFIERS*/
						}, /*END ATTRIBUTE*/
						// Property: UseSourceIp
						"use_source_ip": schema.StringAttribute{ /*START ATTRIBUTE*/
							Description: "源IP地址。",
							Optional:    true,
							Computed:    true,
							PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
								stringplanmodifier.UseStateForUnknown(),
							}, /*END PLAN MODIFIERS*/
						}, /*END ATTRIBUTE*/
					}, /*END SCHEMA*/
					Description: "一致性哈希负载均衡。",
					Optional:    true,
					Computed:    true,
					PlanModifiers: []planmodifier.Object{ /*START PLAN MODIFIERS*/
						objectplanmodifier.UseStateForUnknown(),
					}, /*END PLAN MODIFIERS*/
				}, /*END ATTRIBUTE*/
				// Property: LbPolicy
				"lb_policy": schema.StringAttribute{ /*START ATTRIBUTE*/
					Description: "负载均衡策略，取值：SimpleLB：简单负载均衡。ConsistentHashLB：一致性哈希负载均衡。",
					Optional:    true,
					Computed:    true,
					PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
						stringplanmodifier.UseStateForUnknown(),
					}, /*END PLAN MODIFIERS*/
				}, /*END ATTRIBUTE*/
				// Property: SimpleLB
				"simple_lb": schema.StringAttribute{ /*START ATTRIBUTE*/
					Description: "简单负载均衡，取值：ROUND_ROBIN：轮询。LEAST_CONN：最小连接数。RANDOM：随机。",
					Optional:    true,
					Computed:    true,
					PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
						stringplanmodifier.UseStateForUnknown(),
					}, /*END PLAN MODIFIERS*/
				}, /*END ATTRIBUTE*/
				// Property: WarmupDuration
				"warmup_duration": schema.Int64Attribute{ /*START ATTRIBUTE*/
					Description: "预热时间。单位为秒。",
					Optional:    true,
					Computed:    true,
					PlanModifiers: []planmodifier.Int64{ /*START PLAN MODIFIERS*/
						int64planmodifier.UseStateForUnknown(),
					}, /*END PLAN MODIFIERS*/
				}, /*END ATTRIBUTE*/
			}, /*END SCHEMA*/
			Description: "负载均衡配置。",
			Optional:    true,
			Computed:    true,
			PlanModifiers: []planmodifier.Object{ /*START PLAN MODIFIERS*/
				objectplanmodifier.UseStateForUnknown(),
			}, /*END PLAN MODIFIERS*/
		}, /*END ATTRIBUTE*/
		// Property: Name
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "Upstream名称。",
		//	  "type": "string"
		//	}
		"name": schema.StringAttribute{ /*START ATTRIBUTE*/
			Description: "Upstream名称。",
			Required:    true,
		}, /*END ATTRIBUTE*/
		// Property: Protocol
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "协议，取值：HTTP：HTTP/1.1。HTTP2：HTTP/2。GRPC：GRPC。",
		//	  "type": "string"
		//	}
		"protocol": schema.StringAttribute{ /*START ATTRIBUTE*/
			Description: "协议，取值：HTTP：HTTP/1.1。HTTP2：HTTP/2。GRPC：GRPC。",
			Optional:    true,
			Computed:    true,
			PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
				stringplanmodifier.UseStateForUnknown(),
			}, /*END PLAN MODIFIERS*/
		}, /*END ATTRIBUTE*/
		// Property: SourceType
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "Upstream来源类型，取值：VeFaas：函数服务。ECS：云服务器。K8S：容器服务。Nacos：注册中心。AIProvider：AI模型代理。",
		//	  "type": "string"
		//	}
		"source_type": schema.StringAttribute{ /*START ATTRIBUTE*/
			Description: "Upstream来源类型，取值：VeFaas：函数服务。ECS：云服务器。K8S：容器服务。Nacos：注册中心。AIProvider：AI模型代理。",
			Required:    true,
		}, /*END ATTRIBUTE*/
		// Property: TlsSettings
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "TLS配置。",
		//	  "properties": {
		//	    "Sni": {
		//	      "description": "SNI。留空时会将访问网关的域名透传到upstream。",
		//	      "type": "string"
		//	    },
		//	    "TlsMode": {
		//	      "description": "TLS模式，取值：DISABLE：关闭TLS。SIMPLE：单向TLS。",
		//	      "type": "string"
		//	    }
		//	  },
		//	  "type": "object"
		//	}
		"tls_settings": schema.SingleNestedAttribute{ /*START ATTRIBUTE*/
			Attributes: map[string]schema.Attribute{ /*START SCHEMA*/
				// Property: Sni
				"sni": schema.StringAttribute{ /*START ATTRIBUTE*/
					Description: "SNI。留空时会将访问网关的域名透传到upstream。",
					Optional:    true,
					Computed:    true,
					PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
						stringplanmodifier.UseStateForUnknown(),
					}, /*END PLAN MODIFIERS*/
				}, /*END ATTRIBUTE*/
				// Property: TlsMode
				"tls_mode": schema.StringAttribute{ /*START ATTRIBUTE*/
					Description: "TLS模式，取值：DISABLE：关闭TLS。SIMPLE：单向TLS。",
					Optional:    true,
					Computed:    true,
					PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
						stringplanmodifier.UseStateForUnknown(),
					}, /*END PLAN MODIFIERS*/
				}, /*END ATTRIBUTE*/
			}, /*END SCHEMA*/
			Description: "TLS配置。",
			Optional:    true,
			Computed:    true,
			PlanModifiers: []planmodifier.Object{ /*START PLAN MODIFIERS*/
				objectplanmodifier.UseStateForUnknown(),
			}, /*END PLAN MODIFIERS*/
		}, /*END ATTRIBUTE*/
		// Property: UpdatedTime
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "Upstream更新时间。",
		//	  "type": "string"
		//	}
		"updated_time": schema.StringAttribute{ /*START ATTRIBUTE*/
			Description: "Upstream更新时间。",
			Computed:    true,
			PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
				stringplanmodifier.UseStateForUnknown(),
			}, /*END PLAN MODIFIERS*/
		}, /*END ATTRIBUTE*/
		// Property: UpstreamId
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "Upstream ID。",
		//	  "type": "string"
		//	}
		"upstream_id": schema.StringAttribute{ /*START ATTRIBUTE*/
			Description: "Upstream ID。",
			Computed:    true,
			PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
				stringplanmodifier.UseStateForUnknown(),
			}, /*END PLAN MODIFIERS*/
		}, /*END ATTRIBUTE*/
		// Property: UpstreamSpec
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "Upstream配置。",
		//	  "properties": {
		//	    "AIProvider": {
		//	      "description": "AI模型代理。",
		//	      "properties": {
		//	        "BaseUrl": {
		//	          "description": "模型地址。",
		//	          "type": "string"
		//	        },
		//	        "CustomModelService": {
		//	          "description": "火山自部署模型服务。",
		//	          "properties": {
		//	            "Name": {
		//	              "description": "模型服务名称。",
		//	              "type": "string"
		//	            },
		//	            "Namespace": {
		//	              "description": "命名空间。",
		//	              "type": "string"
		//	            },
		//	            "Port": {
		//	              "description": "端口。",
		//	              "type": "integer"
		//	            }
		//	          },
		//	          "type": "object"
		//	        },
		//	        "Name": {
		//	          "description": "模型服务商名称。",
		//	          "type": "string"
		//	        },
		//	        "Token": {
		//	          "description": "模型API key。",
		//	          "type": "string"
		//	        }
		//	      },
		//	      "type": "object"
		//	    },
		//	    "EcsInstances": {
		//	      "description": "云服务器。",
		//	      "insertionOrder": false,
		//	      "items": {
		//	        "description": "云服务器。",
		//	        "properties": {
		//	          "EcsId": {
		//	            "description": "云服务器ID。",
		//	            "type": "string"
		//	          },
		//	          "IP": {
		//	            "description": "IP地址。",
		//	            "type": "string"
		//	          },
		//	          "Port": {
		//	            "description": "端口。",
		//	            "type": "integer"
		//	          }
		//	        },
		//	        "type": "object"
		//	      },
		//	      "type": "array",
		//	      "uniqueItems": true
		//	    },
		//	    "K8SService": {
		//	      "description": "容器服务。",
		//	      "properties": {
		//	        "Name": {
		//	          "description": "容器服务名称。长度限制为2~63个字符。",
		//	          "type": "string"
		//	        },
		//	        "Namespace": {
		//	          "description": "命名空间。长度限制为2~63个字符。",
		//	          "type": "string"
		//	        },
		//	        "Port": {
		//	          "description": "端口。",
		//	          "type": "integer"
		//	        }
		//	      },
		//	      "type": "object"
		//	    },
		//	    "NacosService": {
		//	      "description": "注册中心。",
		//	      "properties": {
		//	        "Group": {
		//	          "description": "分组。",
		//	          "type": "string"
		//	        },
		//	        "Namespace": {
		//	          "description": "命名空间。",
		//	          "type": "string"
		//	        },
		//	        "NamespaceId": {
		//	          "description": "命名空间ID。",
		//	          "type": "string"
		//	        },
		//	        "Service": {
		//	          "description": "服务。",
		//	          "type": "string"
		//	        },
		//	        "UpstreamSourceId": {
		//	          "description": "Upstream来源ID。",
		//	          "type": "string"
		//	        }
		//	      },
		//	      "type": "object"
		//	    },
		//	    "VeFaas": {
		//	      "description": "函数服务。",
		//	      "properties": {
		//	        "FunctionId": {
		//	          "description": "函数ID。",
		//	          "type": "string"
		//	        }
		//	      },
		//	      "type": "object"
		//	    }
		//	  },
		//	  "type": "object"
		//	}
		"upstream_spec": schema.SingleNestedAttribute{ /*START ATTRIBUTE*/
			Attributes: map[string]schema.Attribute{ /*START SCHEMA*/
				// Property: AIProvider
				"ai_provider": schema.SingleNestedAttribute{ /*START ATTRIBUTE*/
					Attributes: map[string]schema.Attribute{ /*START SCHEMA*/
						// Property: BaseUrl
						"base_url": schema.StringAttribute{ /*START ATTRIBUTE*/
							Description: "模型地址。",
							Optional:    true,
							Computed:    true,
							PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
								stringplanmodifier.UseStateForUnknown(),
							}, /*END PLAN MODIFIERS*/
						}, /*END ATTRIBUTE*/
						// Property: CustomModelService
						"custom_model_service": schema.SingleNestedAttribute{ /*START ATTRIBUTE*/
							Attributes: map[string]schema.Attribute{ /*START SCHEMA*/
								// Property: Name
								"name": schema.StringAttribute{ /*START ATTRIBUTE*/
									Description: "模型服务名称。",
									Optional:    true,
									Computed:    true,
									PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
										stringplanmodifier.UseStateForUnknown(),
									}, /*END PLAN MODIFIERS*/
								}, /*END ATTRIBUTE*/
								// Property: Namespace
								"namespace": schema.StringAttribute{ /*START ATTRIBUTE*/
									Description: "命名空间。",
									Optional:    true,
									Computed:    true,
									PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
										stringplanmodifier.UseStateForUnknown(),
									}, /*END PLAN MODIFIERS*/
								}, /*END ATTRIBUTE*/
								// Property: Port
								"port": schema.Int64Attribute{ /*START ATTRIBUTE*/
									Description: "端口。",
									Optional:    true,
									Computed:    true,
									PlanModifiers: []planmodifier.Int64{ /*START PLAN MODIFIERS*/
										int64planmodifier.UseStateForUnknown(),
									}, /*END PLAN MODIFIERS*/
								}, /*END ATTRIBUTE*/
							}, /*END SCHEMA*/
							Description: "火山自部署模型服务。",
							Optional:    true,
							Computed:    true,
							PlanModifiers: []planmodifier.Object{ /*START PLAN MODIFIERS*/
								objectplanmodifier.UseStateForUnknown(),
							}, /*END PLAN MODIFIERS*/
						}, /*END ATTRIBUTE*/
						// Property: Name
						"name": schema.StringAttribute{ /*START ATTRIBUTE*/
							Description: "模型服务商名称。",
							Optional:    true,
							Computed:    true,
							PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
								stringplanmodifier.UseStateForUnknown(),
							}, /*END PLAN MODIFIERS*/
						}, /*END ATTRIBUTE*/
						// Property: Token
						"token": schema.StringAttribute{ /*START ATTRIBUTE*/
							Description: "模型API key。",
							Optional:    true,
							Computed:    true,
							PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
								stringplanmodifier.UseStateForUnknown(),
							}, /*END PLAN MODIFIERS*/
						}, /*END ATTRIBUTE*/
					}, /*END SCHEMA*/
					Description: "AI模型代理。",
					Optional:    true,
					Computed:    true,
					PlanModifiers: []planmodifier.Object{ /*START PLAN MODIFIERS*/
						objectplanmodifier.UseStateForUnknown(),
					}, /*END PLAN MODIFIERS*/
				}, /*END ATTRIBUTE*/
				// Property: EcsInstances
				"ecs_instances": schema.SetNestedAttribute{ /*START ATTRIBUTE*/
					NestedObject: schema.NestedAttributeObject{ /*START NESTED OBJECT*/
						Attributes: map[string]schema.Attribute{ /*START SCHEMA*/
							// Property: EcsId
							"ecs_id": schema.StringAttribute{ /*START ATTRIBUTE*/
								Description: "云服务器ID。",
								Optional:    true,
								Computed:    true,
								PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
									stringplanmodifier.UseStateForUnknown(),
								}, /*END PLAN MODIFIERS*/
							}, /*END ATTRIBUTE*/
							// Property: IP
							"ip": schema.StringAttribute{ /*START ATTRIBUTE*/
								Description: "IP地址。",
								Optional:    true,
								Computed:    true,
								PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
									stringplanmodifier.UseStateForUnknown(),
								}, /*END PLAN MODIFIERS*/
							}, /*END ATTRIBUTE*/
							// Property: Port
							"port": schema.Int64Attribute{ /*START ATTRIBUTE*/
								Description: "端口。",
								Optional:    true,
								Computed:    true,
								PlanModifiers: []planmodifier.Int64{ /*START PLAN MODIFIERS*/
									int64planmodifier.UseStateForUnknown(),
								}, /*END PLAN MODIFIERS*/
							}, /*END ATTRIBUTE*/
						}, /*END SCHEMA*/
					}, /*END NESTED OBJECT*/
					Description: "云服务器。\n 特别提示: 在使用 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。",
					Optional:    true,
					Computed:    true,
					PlanModifiers: []planmodifier.Set{ /*START PLAN MODIFIERS*/
						setplanmodifier.UseStateForUnknown(),
					}, /*END PLAN MODIFIERS*/
				}, /*END ATTRIBUTE*/
				// Property: K8SService
				"k8_s_service": schema.SingleNestedAttribute{ /*START ATTRIBUTE*/
					Attributes: map[string]schema.Attribute{ /*START SCHEMA*/
						// Property: Name
						"name": schema.StringAttribute{ /*START ATTRIBUTE*/
							Description: "容器服务名称。长度限制为2~63个字符。",
							Optional:    true,
							Computed:    true,
							PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
								stringplanmodifier.UseStateForUnknown(),
							}, /*END PLAN MODIFIERS*/
						}, /*END ATTRIBUTE*/
						// Property: Namespace
						"namespace": schema.StringAttribute{ /*START ATTRIBUTE*/
							Description: "命名空间。长度限制为2~63个字符。",
							Optional:    true,
							Computed:    true,
							PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
								stringplanmodifier.UseStateForUnknown(),
							}, /*END PLAN MODIFIERS*/
						}, /*END ATTRIBUTE*/
						// Property: Port
						"port": schema.Int64Attribute{ /*START ATTRIBUTE*/
							Description: "端口。",
							Optional:    true,
							Computed:    true,
							PlanModifiers: []planmodifier.Int64{ /*START PLAN MODIFIERS*/
								int64planmodifier.UseStateForUnknown(),
							}, /*END PLAN MODIFIERS*/
						}, /*END ATTRIBUTE*/
					}, /*END SCHEMA*/
					Description: "容器服务。",
					Optional:    true,
					Computed:    true,
					PlanModifiers: []planmodifier.Object{ /*START PLAN MODIFIERS*/
						objectplanmodifier.UseStateForUnknown(),
					}, /*END PLAN MODIFIERS*/
				}, /*END ATTRIBUTE*/
				// Property: NacosService
				"nacos_service": schema.SingleNestedAttribute{ /*START ATTRIBUTE*/
					Attributes: map[string]schema.Attribute{ /*START SCHEMA*/
						// Property: Group
						"group": schema.StringAttribute{ /*START ATTRIBUTE*/
							Description: "分组。",
							Optional:    true,
							Computed:    true,
							PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
								stringplanmodifier.UseStateForUnknown(),
							}, /*END PLAN MODIFIERS*/
						}, /*END ATTRIBUTE*/
						// Property: Namespace
						"namespace": schema.StringAttribute{ /*START ATTRIBUTE*/
							Description: "命名空间。",
							Optional:    true,
							Computed:    true,
							PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
								stringplanmodifier.UseStateForUnknown(),
							}, /*END PLAN MODIFIERS*/
						}, /*END ATTRIBUTE*/
						// Property: NamespaceId
						"namespace_id": schema.StringAttribute{ /*START ATTRIBUTE*/
							Description: "命名空间ID。",
							Optional:    true,
							Computed:    true,
							PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
								stringplanmodifier.UseStateForUnknown(),
							}, /*END PLAN MODIFIERS*/
						}, /*END ATTRIBUTE*/
						// Property: Service
						"service": schema.StringAttribute{ /*START ATTRIBUTE*/
							Description: "服务。",
							Optional:    true,
							Computed:    true,
							PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
								stringplanmodifier.UseStateForUnknown(),
							}, /*END PLAN MODIFIERS*/
						}, /*END ATTRIBUTE*/
						// Property: UpstreamSourceId
						"upstream_source_id": schema.StringAttribute{ /*START ATTRIBUTE*/
							Description: "Upstream来源ID。",
							Optional:    true,
							Computed:    true,
							PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
								stringplanmodifier.UseStateForUnknown(),
							}, /*END PLAN MODIFIERS*/
						}, /*END ATTRIBUTE*/
					}, /*END SCHEMA*/
					Description: "注册中心。",
					Optional:    true,
					Computed:    true,
					PlanModifiers: []planmodifier.Object{ /*START PLAN MODIFIERS*/
						objectplanmodifier.UseStateForUnknown(),
					}, /*END PLAN MODIFIERS*/
				}, /*END ATTRIBUTE*/
				// Property: VeFaas
				"ve_faas": schema.SingleNestedAttribute{ /*START ATTRIBUTE*/
					Attributes: map[string]schema.Attribute{ /*START SCHEMA*/
						// Property: FunctionId
						"function_id": schema.StringAttribute{ /*START ATTRIBUTE*/
							Description: "函数ID。",
							Optional:    true,
							Computed:    true,
							PlanModifiers: []planmodifier.String{ /*START PLAN MODIFIERS*/
								stringplanmodifier.UseStateForUnknown(),
							}, /*END PLAN MODIFIERS*/
						}, /*END ATTRIBUTE*/
					}, /*END SCHEMA*/
					Description: "函数服务。",
					Optional:    true,
					Computed:    true,
					PlanModifiers: []planmodifier.Object{ /*START PLAN MODIFIERS*/
						objectplanmodifier.UseStateForUnknown(),
					}, /*END PLAN MODIFIERS*/
				}, /*END ATTRIBUTE*/
			}, /*END SCHEMA*/
			Description: "Upstream配置。",
			Required:    true,
		}, /*END ATTRIBUTE*/
		// Property: VersionDetails
		// Cloud Control resource type schema:
		//
		//	{
		//	  "description": "Upstream版本，仅在Upstream来源类型为K8S时有效。",
		//	  "insertionOrder": false,
		//	  "items": {
		//	    "description": "版本详情。",
		//	    "properties": {
		//	      "Labels": {
		//	        "description": "标签。",
		//	        "insertionOrder": false,
		//	        "items": {
		//	          "description": "标签。",
		//	          "properties": {
		//	            "Key": {
		//	              "description": "键。",
		//	              "type": "string"
		//	            },
		//	            "Value": {
		//	              "description": "值。",
		//	              "type": "string"
		//	            }
		//	          },
		//	          "type": "object"
		//	        },
		//	        "type": "array",
		//	        "uniqueItems": true
		//	      },
		//	      "Name": {
		//	        "description": "版本名称。支持大小写字母、数字和中划线（-），长度限制为2~63个字符。不能以中划线（-）开头。",
		//	        "type": "string"
		//	      },
		//	      "UpdateTime": {
		//	        "description": "更新时间。",
		//	        "type": "string"
		//	      }
		//	    },
		//	    "type": "object"
		//	  },
		//	  "type": "array",
		//	  "uniqueItems": true
		//	}
		"version_details": schema.SetNestedAttribute{ /*START ATTRIBUTE*/
			NestedObject: schema.NestedAttributeObject{ /*START NESTED OBJECT*/
				Attributes: map[string]schema.Attribute{ /*START SCHEMA*/
					// Property: Labels
					"labels": schema.SetNestedAttribute{ /*START ATTRIBUTE*/
						NestedObject: schema.NestedAttributeObject{ /*START NESTED OBJECT*/
							Attributes: map[string]schema.Attribute{ /*START SCHEMA*/
								// Property: Key
								"key": schema.StringAttribute{ /*START ATTRIBUTE*/
									Description: "键。",
									Computed:    true,
								}, /*END ATTRIBUTE*/
								// Property: Value
								"value": schema.StringAttribute{ /*START ATTRIBUTE*/
									Description: "值。",
									Computed:    true,
								}, /*END ATTRIBUTE*/
							}, /*END SCHEMA*/
						}, /*END NESTED OBJECT*/
						Description: "标签。\n 特别提示: 在使用 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
					// Property: Name
					"name": schema.StringAttribute{ /*START ATTRIBUTE*/
						Description: "版本名称。支持大小写字母、数字和中划线（-），长度限制为2~63个字符。不能以中划线（-）开头。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
					// Property: UpdateTime
					"update_time": schema.StringAttribute{ /*START ATTRIBUTE*/
						Description: "更新时间。",
						Computed:    true,
					}, /*END ATTRIBUTE*/
				}, /*END SCHEMA*/
			}, /*END NESTED OBJECT*/
			Description: "Upstream版本，仅在Upstream来源类型为K8S时有效。\n 特别提示: 在使用 SetNestedAttribute 时，必须完整定义其嵌套结构体的所有属性。若定义不完整，Terraform 在执行计划对比时可能会检测到意料之外的差异，从而触发不必要的资源更新，影响资源的稳定性与可预测性。",
			Computed:    true,
			PlanModifiers: []planmodifier.Set{ /*START PLAN MODIFIERS*/
				setplanmodifier.UseStateForUnknown(),
			}, /*END PLAN MODIFIERS*/
		}, /*END ATTRIBUTE*/
	} /*END SCHEMA*/

	// Corresponds to Cloud Control primaryIdentifier.
	attributes["id"] = schema.StringAttribute{
		Description: "Uniquely identifies the resource.",
		Computed:    true,
		PlanModifiers: []planmodifier.String{
			stringplanmodifier.UseStateForUnknown(),
		},
	}

	schema := schema.Schema{
		Description: "Upstream 是对 API 网关实例后端的抽象。您可以将具有相同功能的后端应用抽象为一个 Upstream，实现路由和后端应用解耦，更灵活地支持后端应用的灰度发布、多版本管理等场景。本文为您介绍 Upstream 的概念及作用。",
		Version:     1,
		Attributes:  attributes,
	}

	var opts generic.ResourceOptions

	opts = opts.WithCloudControlTypeName("Volcengine::APIG::Upstream").WithTerraformTypeName("volcenginecc_apig_upstream")
	opts = opts.WithTerraformSchema(schema)
	opts = opts.WithAttributeNameMap(map[string]string{
		"ai_provider":               "AIProvider",
		"backend_targets":           "BackendTargets",
		"base_ejection_time":        "BaseEjectionTime",
		"base_url":                  "BaseUrl",
		"circuit_breaking_settings": "CircuitBreakingSettings",
		"comments":                  "Comments",
		"consecutive_errors":        "ConsecutiveErrors",
		"consistent_hash_lb":        "ConsistentHashLB",
		"created_time":              "CreatedTime",
		"custom_model_service":      "CustomModelService",
		"ecs_id":                    "EcsId",
		"ecs_instances":             "EcsInstances",
		"enable":                    "Enable",
		"function_id":               "FunctionId",
		"gateway_id":                "GatewayId",
		"group":                     "Group",
		"hash_key":                  "HashKey",
		"health_status":             "HealthStatus",
		"http_cookie":               "HTTPCookie",
		"http_header_name":          "HttpHeaderName",
		"http_query_parameter_name": "HttpQueryParameterName",
		"interval":                  "Interval",
		"ip":                        "IP",
		"k8_s_service":              "K8SService",
		"key":                       "Key",
		"labels":                    "Labels",
		"lb_policy":                 "LbPolicy",
		"load_balancer_settings":    "LoadBalancerSettings",
		"max_ejection_percent":      "MaxEjectionPercent",
		"min_health_percent":        "MinHealthPercent",
		"nacos_service":             "NacosService",
		"name":                      "Name",
		"namespace":                 "Namespace",
		"namespace_id":              "NamespaceId",
		"path":                      "Path",
		"port":                      "Port",
		"protocol":                  "Protocol",
		"service":                   "Service",
		"simple_lb":                 "SimpleLB",
		"sni":                       "Sni",
		"source_type":               "SourceType",
		"tls_mode":                  "TlsMode",
		"tls_settings":              "TlsSettings",
		"token":                     "Token",
		"ttl":                       "Ttl",
		"update_time":               "UpdateTime",
		"updated_time":              "UpdatedTime",
		"upstream_id":               "UpstreamId",
		"upstream_source_id":        "UpstreamSourceId",
		"upstream_spec":             "UpstreamSpec",
		"use_source_ip":             "UseSourceIp",
		"value":                     "Value",
		"ve_faas":                   "VeFaas",
		"version_details":           "VersionDetails",
		"warmup_duration":           "WarmupDuration",
	})

	opts = opts.WithReadOnlyPropertyPaths([]string{
		"/properties/UpstreamId",
		"/properties/BackendTargets",
		"/properties/CreatedTime",
		"/properties/UpdatedTime",
		"/properties/VersionDetails",
	})

	opts = opts.WithCreateOnlyPropertyPaths([]string{
		"/properties/GatewayId",
	})
	opts = opts.WithCreateTimeoutInMinutes(0).WithDeleteTimeoutInMinutes(0)

	opts = opts.WithUpdateTimeoutInMinutes(0)

	v, err := generic.NewResource(ctx, opts...)

	if err != nil {
		return nil, err
	}

	return v, nil
}
