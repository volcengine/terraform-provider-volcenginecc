{
  "additionalProperties": false,
  "createOnlyProperties": [
    "/properties/UserName"
  ],
  "definitions": {
    "AccessKey": {
      "description": "子用户的访问密钥。",
      "properties": {
        "AccessKeyId": {
          "description": "访问密钥ID。",
          "type": "string"
        },
        "CreateDate": {
          "description": "访问密钥创建时间。",
          "type": "string"
        },
        "Status": {
          "description": "访问密钥状态。Active代表启用，Inactive代表禁用。",
          "type": "string"
        },
        "UpdateDate": {
          "description": "访问密钥更新时间。",
          "type": "string"
        },
        "UserName": {
          "description": "访问密钥Secret。",
          "type": "string"
        }
      },
      "type": "object"
    },
    "LoginProfile": {
      "description": "子用户的登录配置。",
      "properties": {
        "CreateDate": {
          "description": "登录配置创建时间。",
          "type": "string"
        },
        "LastLoginDate": {
          "description": "上次登录时间。",
          "type": "string"
        },
        "LastLoginIp": {
          "description": "上次登录IP。",
          "type": "string"
        },
        "LastResetPasswordTime": {
          "description": "上次重置密码的时间，上次重置密码的时间。0代表未设置过密码，非0代表过期时间的时间戳。",
          "type": "number"
        },
        "LoginAllowed": {
          "description": "是否允许登录，是否允许登录。true代表允许，false代表不允许，默认为false。",
          "type": "boolean"
        },
        "LoginLocked": {
          "description": "登录是否被锁定。true代表已锁定，false代表未锁定。管理员设置错误密码重试次数限制后，用户命中后登录会被锁定。",
          "type": "boolean"
        },
        "Password": {
          "description": "登录密码。",
          "type": "string"
        },
        "PasswordExpireAt": {
          "description": "密码过期时间。0代表永不过期，非0代表过期时间的时间戳。",
          "type": "number"
        },
        "PasswordResetRequired": {
          "description": "下次登录是否需要重设密码，下次登录是否需要重设密码。true代表允许，false代表不允许，默认为false。",
          "type": "boolean"
        },
        "SafeAuthExemptDuration": {
          "description": "登录保护豁免时长，登录保护豁免时长。支持设置1至7（天），或1至168（小时），或5至1440（分钟）。单位设置请参考SafeAuthExemptUnit参数。",
          "type": "number"
        },
        "SafeAuthExemptRequired": {
          "description": "是否开启登录保护豁免，是否开启登录保护豁免。0代表不开启，1代表开启。开启登录保护豁免后，验证完成后一定时间内登录将不再进行验证。",
          "type": "number"
        },
        "SafeAuthExemptUnit": {
          "description": "登录保护豁免的时间单位，登录保护豁免的时间单位。0代表分钟，1代表小时，2代表天。",
          "type": "number"
        },
        "SafeAuthFlag": {
          "description": "是否开启登录保护，是否开启登录保护。true代表开启，false代表不开启，默认为false。",
          "type": "boolean"
        },
        "SafeAuthType": {
          "description": "登录保护类型，登录保护类型。phone代表手机验证，email代表邮箱验证，vmfa代表验证MFA设备验证。支持设置多种操作保护类型，以英文逗号分隔。可选vmfa, phone, email, 多个选项逗号隔开。",
          "type": "string"
        },
        "UpdateDate": {
          "description": "登录配置更新时间。",
          "type": "string"
        }
      },
      "type": "object"
    },
    "Policy": {
      "description": "权限策略。",
      "properties": {
        "PolicyName": {
          "description": "权限策略名称，长度1~64，支持英文、数字和+=,.@-_符号。",
          "type": "string"
        },
        "PolicyType": {
          "description": "权限策略类型，策略类型。System代表系统预设策略，Custom代表自定义策略。",
          "enum": [
            "System",
            "Custom"
          ],
          "type": "string"
        }
      },
      "required": [
        "PolicyName",
        "PolicyType"
      ],
      "type": "object"
    },
    "SecurityConfig": {
      "description": "子用户的操作保护配置。",
      "properties": {
        "SafeAuthClose": {
          "description": "是否开启操作保护。0代表开启，1代表关闭。",
          "type": "number"
        },
        "SafeAuthExemptDuration": {
          "description": "操作保护的豁免时间，完成验证后在豁免时间内将不再进行验证。支持设置5至30，默认值为10。单位为分钟。",
          "type": "number"
        },
        "SafeAuthType": {
          "description": "操作保护类型。phone代表手机验证，email代表邮箱验证，vmfa代表验证MFA设备验证。支持设置多种操作保护类型，以英文逗号分隔。",
          "type": "string"
        }
      },
      "type": "object"
    },
    "Tag": {
      "description": "资源标签。",
      "properties": {
        "Key": {
          "description": "标签键。",
          "type": "string"
        },
        "Value": {
          "description": "标签值。",
          "type": "string"
        }
      },
      "required": [
        "Key",
        "Value"
      ],
      "type": "object"
    }
  },
  "description": "IAM子用户是访问控制的一种身份，由账号或是拥有权限的用户创建。用户被授予权限后，可登录控制台或使用访问密钥调用API访问云资源。",
  "handlers": {
    "create": {
      "permissions": [
        "iam:CreateUser",
        "iam:AddUserToGroup",
        "iam:RemoveUserFromGroup",
        "iam:AttachUserPolicy",
        "iam:DetachUserPolicy",
        "iam:ListGroupsForUser",
        "iam:ListAttachedUserPolicies",
        "iam:GetSecurityConfig",
        "iam:SetSecurityConfig",
        "iam:GetUser",
        "iam:GetLoginProfile",
        "iam:UpdateLoginProfile",
        "iam:ListAccessKeys"
      ]
    },
    "delete": {
      "permissions": [
        "iam:DeleteUser",
        "iam:GetUser",
        "iam:ListAccessKeys"
      ]
    },
    "list": {
      "permissions": [
        "iam:ListUsers"
      ]
    },
    "read": {
      "permissions": [
        "iam:ListGroupsForUser",
        "iam:ListAttachedUserPolicies",
        "iam:GetUser",
        "iam:GetLoginProfile",
        "iam:GetSecurityConfig",
        "iam:ListAccessKeys"
      ]
    },
    "update": {
      "permissions": [
        "iam:GetUser",
        "iam:UpdateUser",
        "iam:UntagResources",
        "iam:TagResources",
        "iam:ListAttachedUserPolicies",
        "iam:AttachUserPolicy",
        "iam:DetachUserPolicy",
        "iam:ListGroupsForUser",
        "iam:AddUserToGroup",
        "iam:RemoveUserFromGroup",
        "iam:GetLoginProfile",
        "iam:UpdateLoginProfile",
        "iam:GetSecurityConfig",
        "iam:SetSecurityConfig",
        "iam:ListAccessKeys"
      ]
    }
  },
  "primaryIdentifier": [
    "/properties/UserName"
  ],
  "properties": {
    "AccessKey": {
      "description": "子用户的访问密钥。",
      "insertionOrder": false,
      "items": {
        "$ref": "#/definitions/AccessKey"
      },
      "type": "array",
      "uniqueItems": true
    },
    "AccountId": {
      "description": "子用户归属的主账号。",
      "type": "number"
    },
    "CreateDate": {
      "description": "子用户对应的创建时间。",
      "semantic": "createdTime",
      "type": "string"
    },
    "Description": {
      "description": "子用户对应的描述信息，长度不超过255。",
      "semantic": "description",
      "type": "string"
    },
    "DisplayName": {
      "description": "子用户对应的展示名称，用户显示名。长度1~128，仅支持中文、英文、数字、空格和.-_@符号。",
      "maxLength": 128,
      "type": "string"
    },
    "Email": {
      "description": "子用户对应的电子邮件地址。",
      "type": "string"
    },
    "EmailIsVerify": {
      "description": "子用户电子邮件地址是否已验证。true代表已验证，false代表未验证。",
      "type": "boolean"
    },
    "Groups": {
      "description": "子用户归属的用户组。",
      "insertionOrder": false,
      "items": {
        "type": "string"
      },
      "type": "array",
      "uniqueItems": true
    },
    "LoginProfile": {
      "$ref": "#/definitions/LoginProfile",
      "description": "子用户的登录配置。"
    },
    "MobilePhone": {
      "description": "子用户对应的手机号。",
      "maxLength": 20,
      "type": "string"
    },
    "MobilePhoneIsVerify": {
      "description": "子用户手机号是否已验证。true代表已验证，false代表未验证。",
      "type": "boolean"
    },
    "Policies": {
      "description": "子用户对应的权限策略。",
      "insertionOrder": false,
      "items": {
        "$ref": "#/definitions/Policy"
      },
      "type": "array",
      "uniqueItems": true
    },
    "SecurityConfig": {
      "$ref": "#/definitions/SecurityConfig",
      "description": "子用户的操作保护配置。"
    },
    "Tags": {
      "description": "子用户对应的资源标签。",
      "insertionOrder": false,
      "items": {
        "$ref": "#/definitions/Tag"
      },
      "semantic": "tags",
      "type": "array",
      "uniqueItems": true
    },
    "Trn": {
      "description": "子用户对应的Trn表达式。",
      "type": "string"
    },
    "UpdateDate": {
      "description": "子用户对应的更新时间。",
      "semantic": "updatedTime",
      "type": "string"
    },
    "UserId": {
      "description": "子用户的ID。",
      "format": "int64",
      "semantic": "resourceId",
      "type": "integer"
    },
    "UserName": {
      "description": "子用户名称，用户名。长度1~64，支持英文、数字、下划线、和.-@符号。",
      "maxLength": 64,
      "minLength": 1,
      "semantic": "resourceName",
      "type": "string"
    }
  },
  "readOnlyProperties": [
    "/properties/AccountId",
    "/properties/Trn",
    "/properties/UserId",
    "/properties/CreateDate",
    "/properties/UpdateDate",
    "/properties/SecurityConfig/SafeAuthClose",
    "/properties/SecurityConfig/SafeAuthExemptDuration",
    "/properties/AccessKey"
  ],
  "required": [
    "UserName"
  ],
  "tagging": {
    "tagOnCreate": true,
    "tagUpdatable": true,
    "taggable": true
  },
  "typeName": "Volcengine::IAM::User",
  "writeOnlyProperties": [
    "/properties/LoginProfile/Password"
  ]
}