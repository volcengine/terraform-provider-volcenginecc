{
  "additionalProperties": false,
  "createOnlyProperties": [
    "/properties/AutoRenew",
    "/properties/ChargeType",
    "/properties/DBEngine",
    "/properties/DBEngineVersion",
    "/properties/ProjectName",
    "/properties/SubnetId",
    "/properties/VpcId",
    "/properties/ZoneId",
    "/properties/InstanceType",
    "/properties/NodeNumber",
    "/properties/SuperAccountName",
    "/properties/SuperAccountPassword",
    "/properties/AllowListIds",
    "/properties/InstanceCount",
    "/properties/ConfigServerNodeSpec",
    "/properties/ConfigServerStorageSpaceGB",
    "/properties/NodeAvailabilityZone",
    "/properties/Period",
    "/properties/PeriodUnit"
  ],
  "definitions": {
    "ConfigServer": {
      "properties": {
        "ConfigServerNodeId": {
          "description": "ConfigServer 的节点 ID。",
          "type": "string"
        },
        "NodeRole": {
          "description": "节点角色，取值范围如下：Primary：主节点。Secondary：从节点。Hidden：隐藏节点。",
          "enum": [
            "Primary",
            "Secondary",
            "Hidden"
          ],
          "type": "string"
        },
        "NodeStatus": {
          "description": "节点状态。",
          "type": "string"
        },
        "TotalMemoryGB": {
          "description": "总内存。单位：GiB。",
          "type": "number"
        },
        "TotalvCPU": {
          "description": "总核数。",
          "type": "number"
        },
        "UsedMemoryGB": {
          "description": "已用内存。单位：GiB。",
          "type": "number"
        },
        "UsedvCPU": {
          "description": "已用核数。",
          "type": "number"
        },
        "ZoneId": {
          "description": "当前节点所属的可用区 ID。",
          "type": "string"
        }
      },
      "type": "object"
    },
    "Mongo": {
      "properties": {
        "MongosNodeId": {
          "description": "Mongos 的节点 ID。",
          "type": "string"
        },
        "NodeSpec": {
          "description": "节点规格。",
          "type": "string"
        },
        "NodeStatus": {
          "description": "节点状态。",
          "type": "string"
        },
        "TotalMemoryGB": {
          "description": "总内存。单位：GiB。",
          "type": "number"
        },
        "TotalvCPU": {
          "description": "总核数。",
          "type": "number"
        },
        "UsedMemoryGB": {
          "description": "已用内存。单位：GiB。",
          "type": "number"
        },
        "UsedvCPU": {
          "description": "已用核数。",
          "type": "number"
        },
        "ZoneId": {
          "description": "当前节点所属的可用区 ID。",
          "type": "string"
        }
      },
      "type": "object"
    },
    "Node": {
      "properties": {
        "NodeDelayTime": {
          "description": "节点延迟时间。单位：秒。",
          "type": "integer"
        },
        "NodeId": {
          "description": "节点 ID。",
          "type": "string"
        },
        "NodeRole": {
          "description": "节点角色，取值范围如下：Primary：主节点。Secondary：从节点。Hidden：隐藏节点。ReadOnly：只读节点。",
          "enum": [
            "Primary",
            "Secondary",
            "Hidden",
            "ReadOnly"
          ],
          "type": "string"
        },
        "NodeSpec": {
          "description": "节点规格。",
          "type": "string"
        },
        "NodeStatus": {
          "description": "节点状态。",
          "type": "string"
        },
        "TotalMemoryGB": {
          "description": "总内存。单位：GiB。",
          "type": "number"
        },
        "TotalStorageGB": {
          "description": "该节点的总存储空间。单位：GiB。",
          "type": "number"
        },
        "TotalvCPU": {
          "description": "总核数。",
          "type": "number"
        },
        "UsedMemoryGB": {
          "description": "已用内存。单位：GiB。",
          "type": "number"
        },
        "UsedStorageGB": {
          "description": "该节点已用的存储空间。单位：GiB。",
          "type": "number"
        },
        "UsedvCPU": {
          "description": "已用核数。",
          "type": "number"
        },
        "ZoneId": {
          "description": "当前节点所属的可用区 ID。",
          "type": "string"
        }
      },
      "type": "object"
    },
    "NodeAvailabilityZone": {
      "properties": {
        "NodeNumber": {
          "description": "当前可用区中需要添加的只读节点数量。当前仅副本集实例和分片集群实例中 Shard 分片支持添加只读节点。其中：当实例类型为副本集（即 InstanceType 取值为 ReplicaSet）时，该值表示单个副本集实例中的只读节点总数量。每个副本集实例最多支持添加 5 个只读节点。当实例类型为分片集群（即 InstanceType 取值为 ShardedCluster）时，该值表示每个 Shard 分片中的只读节点数量。每个 Shard 分片最多添加 5 个只读节点。",
          "type": "integer"
        },
        "ZoneId": {
          "description": "只读节点所在的可用区。",
          "type": "string"
        }
      },
      "type": "object"
    },
    "Shard": {
      "properties": {
        "Nodes": {
          "description": "Shard 分片中各节点的信息列表。",
          "insertionOrder": false,
          "items": {
            "$ref": "#/definitions/Node"
          },
          "type": "array",
          "uniqueItems": true
        },
        "ShardId": {
          "description": "Shard 节点的 ID。",
          "type": "string"
        }
      },
      "type": "object"
    },
    "Tag": {
      "description": "MongoDB实例的标签。",
      "properties": {
        "Key": {
          "description": "标签键。",
          "type": "string"
        },
        "Value": {
          "description": "标签值。",
          "type": "string"
        }
      },
      "required": [
        "Key"
      ],
      "type": "object"
    }
  },
  "description": "文档数据库 MongoDB 版支持多种架构，能够满足业务灵活部署的需求。除副本集实例架构外，文档数据库 MongoDB 版还提供了分片集群架构，以满足海量数据业务场景，同时提供了灾备、备份及恢复、监控等全套解决方案；在互联网（游戏、电商、直播、资讯、社交）、新零售、在线教育、金融、物联网、政企等行业都有广泛的应用。",
  "filterProperties": {
    "filterableProperties": [
      "/properties/Tags/*/Key",
      "/properties/Tags/*/Value",
      "/properties/DBEngine",
      "/properties/DBEngineVersion",
      "/properties/InstanceId",
      "/properties/InstanceName",
      "/properties/InstanceStatus",
      "/properties/InstanceType",
      "/properties/ProjectName",
      "/properties/VpcId",
      "/properties/ZoneId"
    ]
  },
  "handlers": {
    "create": {
      "permissions": [
        "mongodb:CreateDBInstance",
        "mongodb:DescribeDBInstanceDetail"
      ]
    },
    "delete": {
      "permissions": [
        "mongodb:DeleteDBInstance",
        "mongodb:DescribeDBInstanceDetail"
      ]
    },
    "list": {
      "permissions": [
        "mongodb:DescribeDBInstances"
      ]
    },
    "read": {
      "permissions": [
        "mongodb:DescribeDBInstanceDetail"
      ]
    },
    "update": {
      "permissions": [
        "mongodb:ModifyDBInstanceName",
        "mongodb:ModifyDBInstanceSpec",
        "mongodb:DescribeDBInstanceDetail",
        "mongodb:AddTagsToResource",
        "mongodb:RemoveTagsFromResource"
      ]
    }
  },
  "primaryIdentifier": [
    "/properties/InstanceId"
  ],
  "properties": {
    "AllowListIds": {
      "description": "白名单 ID 列表。新建实例会被绑定到指定白名单。",
      "insertionOrder": false,
      "items": {
        "description": "白名单 ID 列表。新建实例会被绑定到指定白名单。",
        "type": "string"
      },
      "type": "array",
      "uniqueItems": true
    },
    "AutoRenew": {
      "default": false,
      "description": "是否开启自动续费，取值范围如下：false（默认）：不开启自动续费。true：开启自动续费。",
      "type": "boolean"
    },
    "ChargeStatus": {
      "description": "实例计费状态，取值范围如下：Normal：正常。WaitingPaid：等待支付。ChangingPayType：计费变更中。Renewing：续费中。Overdue：已到期。Owing：欠费中。Unsubscribing：退订中。",
      "enum": [
        "Normal",
        "WaitingPaid",
        "ChangingPayType",
        "Renewing",
        "Overdue",
        "Owing",
        "Unsubscribing"
      ],
      "type": "string"
    },
    "ChargeType": {
      "default": "PostPaid",
      "description": "实例计费类型，取值范围如下：PostPaid（默认）：按量计费（也称后付费）。Prepaid：包年包月（也称预付费）。",
      "enum": [
        "PostPaid",
        "Prepaid"
      ],
      "type": "string"
    },
    "ClosedTime": {
      "description": "计划关停时间（UTC）。",
      "type": "string"
    },
    "ConfigServerNodeSpec": {
      "default": "mongo.config.1c2g",
      "description": "分片集群中 ConfigServer 节点的规格码。默认值为 mongo.config.1c2g。",
      "type": "string"
    },
    "ConfigServerStorageSpaceGB": {
      "default": 20,
      "description": "分片集群中 ConfigServer 的存储空间，单位：GiB。步长为 10，默认值：20。",
      "type": "integer"
    },
    "ConfigServers": {
      "description": "ConfigServers 的信息列表。",
      "insertionOrder": false,
      "items": {
        "$ref": "#/definitions/ConfigServer"
      },
      "type": "array",
      "uniqueItems": true
    },
    "ConfigServersId": {
      "description": "ConfigServer 的 ID。",
      "type": "string"
    },
    "CreatedTime": {
      "description": "实例创建时间（UTC）。",
      "semantic": "createdTime",
      "type": "string"
    },
    "DBEngine": {
      "description": "数据库引擎。取值固定为 MongoDB",
      "enum": [
        "MongoDB"
      ],
      "type": "string"
    },
    "DBEngineVersion": {
      "default": "MongoDB_4_0",
      "description": "数据库引擎版本，取值范围如下：MongoDB_4_0（默认）：MongoDB 4.0 版本。MongoDB_4_2：MongoDB 4.2 版本。MongoDB_4_4：MongoDB 4.4 版本。MongoDB_5_0：MongoDB 5.0 版本。MongoDB_6_0：MongoDB 6.0 版本。MongoDB_7_0：MongoDB 7.0 版本。",
      "enum": [
        "MongoDB_4_0",
        "MongoDB_4_2",
        "MongoDB_4_4",
        "MongoDB_5_0",
        "MongoDB_6_0",
        "MongoDB_7_0"
      ],
      "type": "string"
    },
    "DBEngineVersionStr": {
      "description": "数据库引擎版本的字符串。",
      "type": "string"
    },
    "ExpiredTime": {
      "description": "实例到期时间（UTC）。",
      "type": "string"
    },
    "InstanceCount": {
      "default": 1,
      "description": "需要创建的实例数量。取值为大于等于 1 的正整数，默认值为1。",
      "type": "integer"
    },
    "InstanceId": {
      "description": "实例 ID。",
      "semantic": "resourceId",
      "type": "string"
    },
    "InstanceName": {
      "description": "实例名称。名称需同时满足如下要求：不能以数字、中划线（-）开头。只能包含中文、字母、数字、下划线（_）和中划线（-）。长度需为 2~64 个字符。",
      "maxLength": 64,
      "minLength": 2,
      "semantic": "resourceName",
      "type": "string"
    },
    "InstanceStatus": {
      "description": "实例状态。创建中：Creating。运行中：Running。白名单维护中：AllowListMaintaining。变更配置中：Scaling。重启中：Restarting。网络维护中：NetworkMaintaining。恢复中：Restoring。升级版本中：Upgrading。不可用：Unavailable。关停中：Closing。删除中：Deleting。已关停：Closed。SSL SSL变更中：SSLUpdating。主节点切换中：SwitchMastering。角色切换中：RoleChanging。迁移中：Migrating。",
      "enum": [
        "Creating",
        "Running",
        "AllowListMaintaining",
        "Scaling",
        "Restarting",
        "NetworkMaintaining",
        "Restoring",
        "Upgrading",
        "Unavailable",
        "Closing",
        "Deleting",
        "Closed",
        "SSLUpdating",
        "SwitchMastering",
        "RoleChanging",
        "Migrating"
      ],
      "semantic": "status",
      "type": "string"
    },
    "InstanceType": {
      "default": "ReplicaSet",
      "description": "MongoDB 的实例类型，取值范围如下：ReplicaSet（默认）：副本集。ShardedCluster：分片集群 。",
      "enum": [
        "ReplicaSet",
        "ShardedCluster"
      ],
      "type": "string"
    },
    "Mongos": {
      "description": "Mongos 的信息列表。",
      "insertionOrder": false,
      "items": {
        "$ref": "#/definitions/Mongo"
      },
      "type": "array",
      "uniqueItems": true
    },
    "MongosId": {
      "description": "Mongos 的 ID。",
      "type": "string"
    },
    "MongosNodeNumber": {
      "description": "分片集群中 Mongos 节点的数量。取值范围：2~32。",
      "maximum": 32,
      "minimum": 2,
      "type": "integer"
    },
    "MongosNodeSpec": {
      "description": "分片集群中 Mongos 节点的规格码。",
      "type": "string"
    },
    "NodeAvailabilityZone": {
      "description": "添加只读节点信息，包括只读节点所在的可用区和数量。",
      "insertionOrder": false,
      "items": {
        "$ref": "#/definitions/NodeAvailabilityZone"
      },
      "type": "array",
      "uniqueItems": true
    },
    "NodeNumber": {
      "description": "节点数量，其中：当实例类型为副本集（即 InstanceType 取值为 ReplicaSet）时，该参数表示副本集实例的计算节点数量。当实例类型为分片集群（即 InstanceType 取值为 ShardedCluster）时，该参数表示每个 Shard 分片中的节点数量。",
      "type": "integer"
    },
    "NodeSpec": {
      "description": "实例的规格码。其中：当实例类型为副本集（即 InstanceType 取值为 ReplicaSet）时，该参数表示副本集实例的计算节点规格。当实例类型为分片集群（即 InstanceType 取值为 ShardedCluster）时，该参数表示 Shard 节点的规格。",
      "type": "string"
    },
    "Nodes": {
      "description": "副本集实例中各节点或分片集群 Shard 分片中各节点的信息列表。",
      "insertionOrder": false,
      "items": {
        "$ref": "#/definitions/Node"
      },
      "type": "array",
      "uniqueItems": true
    },
    "Period": {
      "description": "包年包月实例的购买时长，其中：当 PeriodUnit 为 Year 时，Period 取值为 1~3。当 PeriodUnit 为 Month 时，Period 取值为 1~9。",
      "maximum": 9,
      "minimum": 1,
      "type": "integer"
    },
    "PeriodUnit": {
      "description": "指定包年包月实例为包年或者包月类型。取值如下：Year：包年。Month：包月。",
      "enum": [
        "Month",
        "Year"
      ],
      "type": "string"
    },
    "PrivateEndpoint": {
      "description": "实例私网连接地址的字符串信息。",
      "type": "string"
    },
    "ProjectName": {
      "default": "default",
      "description": "选择实例所属的项目。若该参数留空，新建实例会默认加入 default 项目。",
      "semantic": "projectName",
      "type": "string"
    },
    "ReadOnlyNodeNumber": {
      "description": "实例的只读节点数量。",
      "type": "integer"
    },
    "ReclaimTime": {
      "description": "实例的计划回收时间（UTC）。",
      "type": "string"
    },
    "ShardNumber": {
      "description": "分片集群中 Shard 分片的数量。取值范围：2~32。",
      "maximum": 32,
      "minimum": 2,
      "type": "integer"
    },
    "Shards": {
      "description": "Shards 的信息列表。",
      "insertionOrder": false,
      "items": {
        "$ref": "#/definitions/Shard"
      },
      "type": "array",
      "uniqueItems": true
    },
    "StorageSpaceGB": {
      "description": "副本集实例的总存储空间，或分片集群中单个 Shard 分片的存储空间，单位：GiB，步长为 10。",
      "type": "integer"
    },
    "StorageType": {
      "description": "实例的存储类型。当前仅支持本地 SSD 盘（即 LocalSSD）存储。",
      "enum": [
        "LocalSSD"
      ],
      "type": "string"
    },
    "SubnetId": {
      "description": "子网 ID。",
      "type": "string"
    },
    "SuperAccountName": {
      "default": "root",
      "description": "数据库账号名称。当前仅支持在创建实例时设置超级管理员账号，账号名称固定为 root。",
      "type": "string"
    },
    "SuperAccountPassword": {
      "description": "root 账号的密码。密码需同时满足如下条件：只能为大小写字母、数字及以下特殊字符 _#!@$%^\u0026*()+=-。长度为 8~32 个字符。至少包含大写字母、小写字母、数字或特殊字符中的任意三种。不允许使用极易被破解的弱密码（如 Admin@123）。",
      "type": "string"
    },
    "Tags": {
      "description": "MongoDB实例的标签信息",
      "insertionOrder": false,
      "items": {
        "$ref": "#/definitions/Tag"
      },
      "semantic": "tags",
      "type": "array",
      "uniqueItems": true
    },
    "UpdatedTime": {
      "description": "实例的更新时间（UTC）。",
      "semantic": "updatedTime",
      "type": "string"
    },
    "VpcId": {
      "description": "私有网络 ID。",
      "type": "string"
    },
    "ZoneId": {
      "description": "实例所在可用区的 ID。",
      "type": "string"
    }
  },
  "readOnlyProperties": [
    "/properties/ChargeStatus",
    "/properties/ClosedTime",
    "/properties/ConfigServers",
    "/properties/ConfigServersId",
    "/properties/CreatedTime",
    "/properties/DBEngineVersionStr",
    "/properties/ExpiredTime",
    "/properties/InstanceId",
    "/properties/InstanceStatus",
    "/properties/Mongos",
    "/properties/MongosId",
    "/properties/Nodes",
    "/properties/PrivateEndpoint",
    "/properties/ReclaimTime",
    "/properties/Shards",
    "/properties/StorageType",
    "/properties/UpdatedTime",
    "/properties/ReadOnlyNodeNumber"
  ],
  "required": [
    "NodeSpec",
    "StorageSpaceGB",
    "SubnetId",
    "VpcId",
    "ZoneId"
  ],
  "tagging": {
    "tagOnCreate": true,
    "tagUpdatable": true,
    "taggable": true
  },
  "typeName": "Volcengine::MongoDB::Instance",
  "writeOnlyProperties": [
    "/properties/NodeNumber",
    "/properties/SuperAccountName",
    "/properties/AllowListIds",
    "/properties/InstanceCount",
    "/properties/ConfigServerNodeSpec",
    "/properties/ConfigServerStorageSpaceGB",
    "/properties/NodeAvailabilityZone",
    "/properties/Period",
    "/properties/PeriodUnit",
    "/properties/SuperAccountPassword",
    "/properties/StorageSpaceGB",
    "/properties/MongosNodeNumber",
    "/properties/MongosNodeSpec",
    "/properties/ShardNumber",
    "/properties/NodeSpec"
  ]
}