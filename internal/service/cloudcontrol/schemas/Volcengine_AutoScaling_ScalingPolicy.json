{
  "additionalProperties": false,
  "createOnlyProperties": [
    "/properties/ScalingPolicyType",
    "/properties/ScalingGroupId"
  ],
  "definitions": {
    "AlarmPolicy": {
      "properties": {
        "Condition": {
          "$ref": "#/definitions/Condition",
          "description": "单指标监控时的监控指标详细信息。仅当ScalingPolicyType取值为Alarm时有效。",
          "type": "object"
        },
        "ConditionOperator": {
          "description": "多指标告警时的判定条件。\u0026\u0026：多个指标同时成立才判定为触发告警。||（默认）：任意指标满足条件就判定为触发告警。",
          "type": "string"
        },
        "Conditions": {
          "description": "多指标监控时的监控指标详细信息。仅当ScalingPolicyType取值为Alarm时有效，且必须配置AlarmPolicy.Condition.x或AlarmPolicy.Conditions.x相关参数，当二者同时配置时，仅AlarmPolicy.Conditions.x生效。",
          "insertionOrder": false,
          "items": {
            "$ref": "#/definitions/Condition"
          },
          "type": "array",
          "uniqueItems": true
        },
        "Effective": {
          "description": "报警任务的生效时间段。",
          "type": "string"
        },
        "EvaluationCount": {
          "description": "当监控指标数据连续几次达到阈值时，即触发伸缩行为。仅当ScalingPolicyType取值为Alarm时有效且为必填项。",
          "maximum": 180,
          "type": "integer"
        },
        "RuleType": {
          "description": "报警任务的类型，取值：Static：表示由agent采集的静态监控。仅当ScalingPolicyType取值为Alarm时有效且为必填项。",
          "type": "string"
        }
      },
      "type": "object"
    },
    "Condition": {
      "properties": {
        "ComparisonOperator": {
          "description": "指标告警时的规则表达式对象。\u003e：大于。\u003c：小于。=：等于。",
          "type": "string"
        },
        "MetricName": {
          "description": "指标告警时的监控指标名称。CpuTotal_Max：带内CPU使用率最大值。CpuTotal_Min：带内CPU使用率最小值。CpuTotal_Avg：带内CPU使用率平均值。MemoryUsedUtilization_Max：带内内存使用率最大值。MemoryUsedUtilization_Min：带内内存使用率最小值。MemoryUsedUtilization_Avg：带内内存使用率平均值。Instance_CpuBusy_Max：带外CPU利用率最大值。Instance_CpuBusy_Min：带外CPU利用率最小值。Instance_CpuBusy_Avg：带外CPU利用率平均值。Instance_NetTxBits_Avg: 带外网络流出速率平均值。Instance_NetRxBits_Avg: 带外网络流入速率平均值。Instance_NetTxPackets_Avg: 带外网络发送包速率平均值。Instance_NetRxPackets_Avg: 带外网络接收包速率平均值。SystemDiskReadBytes_Avg: 带内系统盘读带宽平均值。SystemDiskWriteBytes_Avg: 带内系统盘写带宽平均值。SystemDiskReadIOPS_Avg: 带内系统盘读IOPS平均值。SystemDiskWriteIOPS_Avg: 带内系统盘写IOPS平均值。NetTcpConnection_Avg: 带内TCP连接数平均值。",
          "enum": [
            "CpuTotal_Max",
            "CpuTotal_Min",
            "CpuTotal_Avg",
            "MemoryUsedUtilization_Max",
            "MemoryUsedUtilization_Min",
            "MemoryUsedUtilization_Avg",
            "Instance_CpuBusy_Max",
            "Instance_CpuBusy_Min",
            "Instance_CpuBusy_Avg",
            "Instance_NetTxBits_Avg",
            "Instance_NetRxBits_Avg",
            "Instance_NetTxPackets_Avg",
            "Instance_NetRxPackets_Avg",
            "SystemDiskReadBytes_Avg",
            "SystemDiskWriteBytes_Avg",
            "SystemDiskReadIOPS_Avg",
            "SystemDiskWriteIOPS_Avg",
            "NetTcpConnection_Avg"
          ],
          "type": "string"
        },
        "MetricUnit": {
          "description": "指标告警时的监控指标阈值的单位。当AlarmPolicy.Conditions.MetricName参数取值为CPU/内存使用率时: Percent。当AlarmPolicy.Conditions.MetricName参数取值为系统盘读/写带宽时: Bytes/Second(IEC)。当AlarmPolicy.Conditions.MetricName参数取值为系统盘读/写IOPS时: Count/Second。当AlarmPolicy.Conditions.MetricName参数取值为TCP连接数时: Count。当AlarmPolicy.Condition.MetricName参数取值为网络流入/流出速率时: Bits/Second(IEC)。当AlarmPolicy.Condition.MetricName参数取值为网络收发包速率时: Packet/Second。",
          "enum": [
            "Percent",
            "Bytes/Second(IEC)",
            "Count/Second",
            "Count",
            "Bits/Second(IEC)",
            "Packet/Second"
          ],
          "type": "string"
        },
        "Threshold": {
          "description": "指标告警时的监控指标的阈值。当AlarmPolicy.Conditions.MetricUnit取值为Percent时：1 ～ 100。当AlarmPolicy.Conditions.MetricUnit取值为Bytes/Second(IEC)时：大于0的整数。当AlarmPolicy.Conditions.MetricUnit取值为Count/Second时：大于0的整数。当AlarmPolicy.Conditions.MetricUnit取值为Count时：大于0的整数。当AlarmPolicy.Condition.MetricUnit取值为Bits/Second(IEC)时：大于0的整数。当AlarmPolicy.Condition.MetricUnit取值为Packet/Second时：大于0的整数。",
          "type": "string"
        }
      },
      "required": [
        "Threshold"
      ],
      "type": "object"
    },
    "ScheduledPolicy": {
      "properties": {
        "LaunchTime": {
          "description": "表示任务的触发时间，默认为此刻。当ScalingPolicyType值为Scheduled时，表示定时任务的触发时间。当ScalingPolicyType值为Recurrence时：如果ScheduledPolicy.RecurrenceType为空，则表示仅按照此处指定的日期和时间执行一次。如果ScheduledPolicy.RecurrenceType不为空，则表示周期任务开始时间。",
          "type": "string"
        },
        "LaunchTimeRead": {
          "description": "表示任务的触发时间。只读字段，修改或创建使用LaunchTime。",
          "type": "string"
        },
        "RecurrenceEndTime": {
          "description": "表示周期任务的结束时间。仅支持选择自创建当日起365日内的时间。若不配置，则根据重复周期（ScheduledPolicy.RecurrenceType）默认为此刻后的一天/周/月。设置为空，表示本任务永不停止。当ScalingPolicyType取值为Recurrence时有效且为必填项。",
          "type": "string"
        },
        "RecurrenceEndTimeRead": {
          "description": "表示周期任务的结束时间。只读字段，修改或创建使用RecurrenceEndTime。",
          "type": "string"
        },
        "RecurrenceStartTime": {
          "description": "表示周期任务的开始执行时间。当ScalingPolicyType取值为Recurrence时有效。",
          "type": "string"
        },
        "RecurrenceType": {
          "description": "表示周期任务的重复周期，取值：Daily：每XX天执行一次。Weekly：选择每周中的几天，每天执行一次。Monthly：选择每月中XX号到XX号，每天执行一次。Cron：按照指定的Cron表达式执行。当ScalingPolicyType取值为Recurrence时有效且为必填项。",
          "type": "string"
        },
        "RecurrenceValue": {
          "description": "表示重复执行周期任务的数值。当ScheduledPolicy.RecurrenceType参数取值为Daily时，只能填写一个值，取值：1 - 31。当ScheduledPolicy.RecurrenceType参数取值为Weekly时，可以填入多个值，使用英文逗号（,）分隔。星期一到星期日的取值依次为：1,2,3,4,5,6,7。当ScheduledPolicy.RecurrenceType参数取值为Monthly时，格式为A-B。A、B的取值范围均为1-31，且B必须大于等于A。当ScheduledPolicy.RecurrenceType参数取值为Cron 时，表示UTC+8时间，支持分、时、日、月、星期的5域表达式，支持通配符英文逗号（,）、英文问号（?）、连词符（-）、星号（*）、井号（#）、斜线（/）、L和W。当ScalingPolicyType取值为Recurrence时有效且为必填项。",
          "type": "string"
        }
      },
      "type": "object"
    }
  },
  "description": "伸缩规则用于定义触发扩缩容行为的条件和方式，包括规则类型、触发时间、伸缩行为、冷却时间等。在同一个伸缩组中，您可以启用多条伸缩规则，满足任意类型时均会执行伸缩动作。但当同一时间满足多个类型时，将优先执行手动触发的伸缩行为。",
  "filterProperties": {
    "filterableProperties": [
      "/properties/ScalingGroupId",
      "/properties/ScalingPolicyId",
      "/properties/ScalingPolicyType",
      "/properties/ScalingPolicyName"
    ],
    "required": [
      "/properties/ScalingGroupId"
    ]
  },
  "handlers": {
    "create": {
      "permissions": [
        "autoscaling:CreateScalingPolicy",
        "autoscaling:DescribeScalingPolicies"
      ]
    },
    "delete": {
      "permissions": [
        "autoscaling:DeleteScalingPolicy",
        "autoscaling:DescribeScalingPolicies"
      ]
    },
    "list": {
      "permissions": [
        "autoscaling:DescribeScalingPolicies"
      ]
    },
    "read": {
      "permissions": [
        "autoscaling:DescribeScalingPolicies"
      ]
    },
    "update": {
      "permissions": [
        "autoscaling:DescribeScalingPolicies",
        "autoscaling:ModifyScalingPolicy",
        "autoscaling:EnableScalingPolicy",
        "autoscaling:DisableScalingPolicy"
      ]
    }
  },
  "primaryIdentifier": [
    "/properties/ScalingGroupId",
    "/properties/ScalingPolicyId"
  ],
  "properties": {
    "AdjustmentType": {
      "description": "伸缩规则的伸缩行为，适用于简单规则和步进规则，QuantityChangeInCapacity：增加或减少指定数量的实例。PercentChangeInCapacity：增加或减少指定比例的实例。TotalCapacity： 将当前伸缩组的实例数量调整到指定数量。",
      "enum": [
        "QuantityChangeInCapacity",
        "PercentChangeInCapacity",
        "TotalCapacity",
        ""
      ],
      "type": "string"
    },
    "AdjustmentValue": {
      "description": "伸缩行为的调整数值，适用于简单规则和步进规则，当AdjustmentType参数取值为QuantityChangeInCapacity时：-100 - 100，不允许为0，单位：个。当AdjustmentType参数取值为PercentChangeInCapacity时：-100 - 10000，不允许为0，单位：%。当AdjustmentType参数取值为TotalCapacity时：默认为0 - 100，单位：个。",
      "type": "integer"
    },
    "AlarmPolicy": {
      "$ref": "#/definitions/AlarmPolicy",
      "description": "报警任务的详细信息。",
      "type": "object"
    },
    "Cooldown": {
      "description": "伸缩规则的冷却时间。 取值：0-86400，单位：秒，不填则默认使用伸缩组的冷却时间。",
      "maximum": 86400,
      "type": "integer"
    },
    "IsEnabledPolicy": {
      "description": "伸缩规则的状态。取值：true：启用。false：停用。需保证伸缩组的状态为Active。",
      "type": "boolean"
    },
    "ScalingGroupId": {
      "description": "伸缩组ID。",
      "type": "string"
    },
    "ScalingPolicyId": {
      "description": "伸缩规则ID。",
      "semantic": "resourceId",
      "type": "string"
    },
    "ScalingPolicyName": {
      "description": "伸缩规则名称。",
      "semantic": "resourceName",
      "type": "string"
    },
    "ScalingPolicyType": {
      "description": "伸缩规则的类型，取值：Scheduled：定时任务。Recurrence：周期任务。Alarm：报警任务。",
      "enum": [
        "Scheduled",
        "Recurrence",
        "Alarm"
      ],
      "type": "string"
    },
    "ScheduledPolicy": {
      "$ref": "#/definitions/ScheduledPolicy",
      "description": "定时任务/周期任务的详细信息。",
      "type": "object"
    },
    "Status": {
      "description": "伸缩规则的状态。取值：Active：已启用。InActive：已停用。需保证伸缩组的状态为Active。",
      "semantic": "status",
      "type": "string"
    }
  },
  "readOnlyProperties": [
    "/properties/ScalingPolicyId",
    "/properties/Status",
    "/properties/ScheduledPolicy/LaunchTimeRead",
    "/properties/ScheduledPolicy/RecurrenceEndTimeRead",
    "/properties/ScheduledPolicy/RecurrenceStartTime"
  ],
  "required": [
    "ScalingGroupId",
    "ScalingPolicyName",
    "ScalingPolicyType"
  ],
  "tagging": {
    "taggable": false
  },
  "typeName": "Volcengine::AutoScaling::ScalingPolicy",
  "writeOnlyProperties": [
    "/properties/IsEnabledPolicy",
    "/properties/ScheduledPolicy/LaunchTime",
    "/properties/ScheduledPolicy/RecurrenceEndTime"
  ]
}