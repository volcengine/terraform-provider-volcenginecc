{
  "additionalProperties": false,
  "createOnlyProperties": [
    "/properties/DBEngineVersion",
    "/properties/DBMinorVersion",
    "/properties/TimeZone",
    "/properties/LowerCaseTableNames",
    "/properties/Number",
    "/properties/Port",
    "/properties/ProjectName",
    "/properties/VpcId",
    "/properties/SubnetId",
    "/properties/TemplateId",
    "/properties/SuperAccountName",
    "/properties/SuperAccountPassword",
    "/properties/ZoneIds"
  ],
  "definitions": {
    "Address": {
      "description": "连接地址信息。",
      "properties": {
        "DNSVisibility": {
          "description": "解析方式。当前返回值只能为 false。",
          "type": "boolean"
        },
        "Domain": {
          "description": "实例内网访问域名。",
          "type": "string"
        },
        "EipId": {
          "description": "公网 ID。",
          "type": "string"
        },
        "IpAddress": {
          "description": "IP 地址。",
          "type": "string"
        },
        "NetworkType": {
          "description": "网络类型：Private：私有网络 VPC。Public：公网访问。",
          "type": "string"
        },
        "Port": {
          "description": "实例内网访问端口。",
          "type": "string"
        },
        "SubnetId": {
          "description": "子网 ID。子网必须属于所选的可用区。",
          "type": "string"
        }
      },
      "type": "object"
    },
    "ChargeDetail": {
      "description": "计费详细信息。",
      "properties": {
        "AutoRenew": {
          "description": "预付费场景下是否自动续费。取值：true：自动续费。false：不自动续费。",
          "type": "boolean"
        },
        "ChargeEndTime": {
          "description": "预付费场景下计费到期的时间，格式：yyyy-MM-ddTHH:mm:ssZ（UTC 时间）。",
          "type": "string"
        },
        "ChargeStartTime": {
          "description": "计费开始的时间，格式：yyyy-MM-ddTHH:mm:ssZ（UTC 时间）。",
          "type": "string"
        },
        "ChargeStatus": {
          "description": "付费状态：Normal：正常。Overdue：欠费。Shutdown：关停。",
          "type": "string"
        },
        "ChargeType": {
          "description": "计费类型。PostPaid：按量计费；PrePaid：包年包月。",
          "enum": [
            "PostPaid",
            "PrePaid"
          ],
          "type": "string"
        },
        "OverdueReclaimTime": {
          "description": "欠费关停时预计释放时间，格式：yyyy-MM-ddTHH:mm:ssZ（UTC 时间）。",
          "type": "string"
        },
        "OverdueTime": {
          "description": "欠费关停时间，格式：yyyy-MM-ddTHH:mm:ssZ（UTC 时间）。",
          "type": "string"
        },
        "Period": {
          "description": "预付费场景下的购买时长。",
          "type": "integer"
        },
        "PeriodUnit": {
          "description": "预付费场景下的购买周期。Month：包月。Year：包年。",
          "enum": [
            "Month",
            "Year"
          ],
          "type": "string"
        }
      },
      "type": "object"
    },
    "Endpoint": {
      "description": "连接终端的详细信息。",
      "properties": {
        "Addresses": {
          "description": "连接地址信息。",
          "insertionOrder": false,
          "items": {
            "$ref": "#/definitions/Address"
          },
          "type": "array",
          "uniqueItems": true
        },
        "AutoAddNewNodes": {
          "description": "是否允许自动加入新节点，取值：true：是。false：否。",
          "type": "boolean"
        },
        "ConsistLevel": {
          "description": "一致性级别，仅对读写模式的连接终端有效。取值：Eventual：最终一致性。Session：会话一致性。Global：全局一致性。",
          "type": "string"
        },
        "ConsistTimeout": {
          "description": "延迟很大时，只读节点同步最新数据的超时时间，单位为 us，取值范围为 1us~100000000us。",
          "type": "integer"
        },
        "ConsistTimeoutAction": {
          "description": "只读节点同步数据超时后的超时策略，支持以下两种策略：ReturnError：返回 SQL 报错（wait replication complete timeout, please retry）。ReadMaster：发送请求到主节点。",
          "type": "string"
        },
        "Description": {
          "description": "地址描述。",
          "type": "string"
        },
        "DistributedTransaction": {
          "description": "是否开启事务拆分，仅对读写模式的连接终端有效。取值：true：是。false：否。",
          "type": "boolean"
        },
        "EndpointId": {
          "description": "实例连接终端 ID。",
          "type": "string"
        },
        "EndpointName": {
          "description": "实例连接终端名称。",
          "type": "string"
        },
        "EndpointType": {
          "description": "连接终端类型，取值：Cluster：默认终端。Primary：主节点终端。Custom：自定义终端。",
          "type": "string"
        },
        "MasterAcceptReadRequests": {
          "description": "主节点是否接受读请求。仅对读写模式的连接终端有效。true：是。false：否。",
          "type": "boolean"
        },
        "NodeIds": {
          "description": "连接终端配置的节点列表。",
          "insertionOrder": false,
          "items": {
            "type": "string"
          },
          "type": "array",
          "uniqueItems": true
        },
        "ReadWriteMode": {
          "description": "连接终端的读写模式，取值：ReadWrite: 读写。ReadOnly: 只读。",
          "type": "string"
        }
      },
      "type": "object"
    },
    "MaintenanceWindow": {
      "description": "实例维护时间窗口。",
      "properties": {
        "DayKind": {
          "description": "可维护周期粒度，默认取值为：Week（周）。",
          "type": "string"
        },
        "DayOfMonth": {
          "description": "指定每月哪一天为可维护时间段，默认为空，表示每天都指定。",
          "insertionOrder": false,
          "items": {
            "type": "integer"
          },
          "type": "array",
          "uniqueItems": true
        },
        "DayOfWeek": {
          "description": "每周的哪一天为可维护时间段，默认取值为每一天：Monday，Tuesday，Wednesday，Thursday，Friday，Saturday，Sunday。",
          "insertionOrder": false,
          "items": {
            "type": "string"
          },
          "type": "array",
          "uniqueItems": true
        },
        "MaintenanceTime": {
          "description": "实例的可维护时间段。格式：HH:mmZ-HH:mmZ（UTC 时间）。",
          "type": "string"
        }
      },
      "type": "object"
    },
    "Node": {
      "description": "实例节点的详细信息。",
      "properties": {
        "FailoverPriority": {
          "description": "节点切主的优先级，取值范围为 0~15。数值越大，优先级越高。",
          "type": "integer"
        },
        "Memory": {
          "description": "内存大小，单位为 GiB。",
          "type": "integer"
        },
        "NodeId": {
          "description": "节点 ID。",
          "type": "string"
        },
        "NodeSpec": {
          "description": "节点规格。",
          "type": "string"
        },
        "NodeType": {
          "description": "节点类型。取值：Primary：主节点。ReadOnly：只读节点。",
          "type": "string"
        },
        "ZoneId": {
          "description": "可用区 ID。",
          "type": "string"
        },
        "vCPU": {
          "description": "CPU 大小，例如当取值为 1 时表示 CPU 大小为 1U。",
          "type": "integer"
        }
      },
      "type": "object"
    },
    "Tag": {
      "properties": {
        "Key": {
          "description": "用户标签的标签键。长度取值范围为1~128字符，允许输入各国语言文字、数字、空格（ ）、下划线（_）、点号（.）、半角冒号（:）、斜杠（/）、等号（=）、加号（+）、中划线（-）和@（@）。若标签键开头或结尾存在空格，系统会自动为其去除。",
          "maxLength": 128,
          "minLength": 1,
          "type": "string"
        },
        "Value": {
          "description": "用户标签的标签值。允许输入各国语言文字、数字、空格（ ）、下划线（_）、点号（.）、半角冒号（:）、斜杠（/）、等号（=）、加号（+）、中划线（-）和@（@）。大小写敏感。若标签值开头或结尾存在空格，系统会自动为其去除。",
          "maxLength": 256,
          "minLength": 0,
          "type": "string"
        }
      },
      "required": [
        "Key"
      ],
      "type": "object"
    }
  },
  "description": "云数据库 veDB MySQL 版是火山引擎自研新一代云原生关系型数据库。云数据库 veDB MySQL 版 100% 兼容 MySQL，适用于企业多样化的数据库应用场景。",
  "filterProperties": {
    "filterableProperties": [
      "/properties/ChargeDetail/ChargeType",
      "/properties/DBEngineVersion",
      "/properties/InstanceId",
      "/properties/InstanceName",
      "/properties/InstanceStatus",
      "/properties/NodeSpec",
      "/properties/ProjectName",
      "/properties/StorageChargeType",
      "/properties/ZoneIds",
      "/properties/Tags/*/Key",
      "/properties/Tags/*/Value"
    ]
  },
  "handlers": {
    "create": {
      "permissions": [
        "vedbm:CreateDBInstance",
        "vedbm:DescribeDBInstanceDetail",
        "vedbm:DescribeDBInstanceVersion"
      ]
    },
    "delete": {
      "permissions": [
        "vedbm:DeleteDBInstance",
        "vedbm:DescribeDBInstanceDetail"
      ]
    },
    "list": {
      "permissions": [
        "vedbm:DescribeDBInstances"
      ]
    },
    "read": {
      "permissions": [
        "vedbm:DescribeDBInstanceDetail",
        "vedbm:DescribeDBInstanceVersion"
      ]
    },
    "update": {
      "permissions": [
        "vedbm:ModifyDBInstanceName",
        "vedbm:ModifyDBInstanceMaintenanceWindow",
        "vedbm:ModifyDBNodeConfig",
        "vedbm:ModifyDBInstanceDeletionProtectionPolicy",
        "vedbm:ModifyDBInstanceSpec",
        "vedbm:ModifyDBInstanceChargeType",
        "vedbm:ChangeMaster",
        "vedbm:DescribeDBInstanceDetail",
        "vedbm:DescribeDBInstanceVersion",
        "vedbm:AddTagsToResource",
        "vedbm:RemoveTagsFromResource"
      ]
    }
  },
  "primaryIdentifier": [
    "/properties/InstanceId"
  ],
  "properties": {
    "ChargeDetail": {
      "$ref": "#/definitions/ChargeDetail",
      "description": "计费详细信息。",
      "type": "object"
    },
    "CreatedTime": {
      "description": "实例的创建时间，格式：YYYY-MM-DDTHH:MM:SSZ（UTC 时间）。",
      "semantic": "createdTime",
      "type": "string"
    },
    "DBEngineVersion": {
      "description": "实例兼容版本。取值范围：MySQL_8_0：表示兼容社区 MySQL 8.0 版本。MySQL_5_7：表示兼容社区 MySQL 5.7 版本。",
      "enum": [
        "MySQL_8_0",
        "MySQL_5_7"
      ],
      "type": "string"
    },
    "DBMinorVersion": {
      "description": "根据兼容版本，选择 veDB MySQL 小版本。当 DBEngineVersion 取值为 MySQL_5_7 时，该参数取值默认为 2.0。当 DBEngineVersion 取值为 MySQL_8_0 时，该参数取值范围如下：3.0（默认）：veDB MySQL 稳定版，100% 兼容 MySQL 8.0。3.1：原生支持 HTAP 应用场景，加速复杂查询。3.2：原生支持 HTAP 应用场景，加速复杂查询。",
      "type": "string"
    },
    "DBRevisionVersion": {
      "description": "实例的内核版本。",
      "type": "string"
    },
    "DeletionProtection": {
      "description": "实例是否开启了删除保护功能。取值范围：enabled：开启。disabled：关闭。",
      "type": "string"
    },
    "Endpoints": {
      "description": "连接终端的详细信息。",
      "insertionOrder": false,
      "items": {
        "$ref": "#/definitions/Endpoint"
      },
      "type": "array",
      "uniqueItems": true
    },
    "InstanceId": {
      "description": "实例 ID。",
      "semantic": "resourceId",
      "type": "string"
    },
    "InstanceName": {
      "description": "实例名称。命名规则：不能以数字、中划线（-）开头。只能包含中文、字母、数字、下划线（_）和中划线（-）。长度需在 1~128 个字符内。",
      "maxLength": 128,
      "minLength": 1,
      "semantic": "resourceName",
      "type": "string"
    },
    "InstanceStatus": {
      "description": "实例状态。",
      "semantic": "status",
      "type": "string"
    },
    "LowerCaseTableNames": {
      "description": "表名是否区分大小写。取值范围：0：表名称大小写敏感，后端根据实际表名存储。1：表名称不区分大小写，后端存储时将表名称统一为小写字母。",
      "type": "string"
    },
    "MaintenanceWindow": {
      "$ref": "#/definitions/MaintenanceWindow",
      "description": "实例的可维护时间窗口信息。",
      "type": "object"
    },
    "NodeNumber": {
      "description": "实例节点数量。取值范围为 2~16 个。",
      "maximum": 16,
      "minimum": 2,
      "type": "integer"
    },
    "NodeSpec": {
      "description": "实例的节点规格代码。",
      "type": "string"
    },
    "Nodes": {
      "description": "实例节点的详细信息。",
      "insertionOrder": false,
      "items": {
        "$ref": "#/definitions/Node"
      },
      "type": "array",
      "uniqueItems": false
    },
    "Number": {
      "default": 1,
      "description": "创建的实例数量，取值范围 1~50，默认值为 1。",
      "maximum": 50,
      "minimum": 1,
      "type": "integer"
    },
    "Port": {
      "default": 3306,
      "description": "为实例默认创建的连接终端指定私网端口号。默认取值为 3306，取值范围为 1000~65534。",
      "maximum": 65534,
      "minimum": 1000,
      "type": "integer"
    },
    "PrePaidStorageInGB": {
      "description": "预付费的存储总容量大小，单位 GiB。",
      "type": "integer"
    },
    "ProjectName": {
      "description": "实例所属的项目名称。",
      "semantic": "projectName",
      "type": "string"
    },
    "SpecFamily": {
      "description": "实例规格类型，取值：General：通用型。Exclusive：独享型。",
      "enum": [
        "General",
        "Exclusive"
      ],
      "type": "string"
    },
    "StorageChargeType": {
      "description": "存储计费类型，不传入该参数时，存储计费类型默认与计算计费类型取值一致。取值：PostPaid：按量计费（后付费）。PrePaid：包年包月（预付费）。",
      "enum": [
        "PostPaid",
        "PrePaid"
      ],
      "type": "string"
    },
    "StorageUsedGiB": {
      "description": "已使用存储空间大小，单位 GiB。",
      "type": "number"
    },
    "SubnetId": {
      "description": "子网 ID。子网必须属于所选的可用区。",
      "type": "string"
    },
    "SuperAccountName": {
      "description": "高权限用户的账号名称。账号名称需满足以下要求：名称唯一，且长度在 2~32 个字符内。由字母、数字、中划线（-）、下划线（_）组成。以字母开头，以字母或数字结尾。名称内不能包含禁用关键词。",
      "type": "string"
    },
    "SuperAccountPassword": {
      "description": "高权限账号的密码。账号密码需满足以下要求：只能包含大小写字母、数字和特殊字符（如 ~!@#$%^\u0026*_-+=`|\\(){}[]:;'\u003c\u003e,.?/）。长度需在 8~32 个字符内。至少包含大写字母、小写字母、数字或特殊字符中的 3 种。",
      "type": "string"
    },
    "Tags": {
      "description": "实例绑定的标签键和标签值数组对象。",
      "insertionOrder": false,
      "items": {
        "$ref": "#/definitions/Tag"
      },
      "maxItems": 50,
      "semantic": "tags",
      "type": "array",
      "uniqueItems": true
    },
    "TemplateId": {
      "description": "参数模板 ID。",
      "type": "string"
    },
    "TimeZone": {
      "description": "实例的时区。国内所有地域默认时区为 UTC +08:00。",
      "type": "string"
    },
    "VpcId": {
      "description": "私有网络（VPC） ID。",
      "type": "string"
    },
    "ZoneIds": {
      "description": "可用区 ID。",
      "type": "string"
    }
  },
  "readOnlyProperties": [
    "/properties/InstanceId",
    "/properties/InstanceStatus",
    "/properties/StorageUsedGiB",
    "/properties/ChargeDetail/ChargeStatus",
    "/properties/ChargeDetail/OverdueReclaimTime",
    "/properties/ChargeDetail/OverdueTime",
    "/properties/ChargeDetail/ChargeStartTime",
    "/properties/ChargeDetail/ChargeEndTime",
    "/properties/Nodes/*/NodeId",
    "/properties/Nodes/*/ZoneId",
    "/properties/Nodes/*/vCPU",
    "/properties/Nodes/*/Memory",
    "/properties/Nodes/*/NodeSpec",
    "/properties/Endpoints",
    "/properties/MaintenanceWindow/DayKind",
    "/properties/MaintenanceWindow/DayOfWeek",
    "/properties/MaintenanceWindow/DayOfMonth",
    "/properties/DBRevisionVersion",
    "/properties/SpecFamily",
    "/properties/CreatedTime"
  ],
  "required": [
    "ZoneIds",
    "DBEngineVersion",
    "NodeSpec",
    "NodeNumber",
    "VpcId",
    "SubnetId"
  ],
  "tagging": {
    "tagOnCreate": true,
    "tagUpdatable": true,
    "taggable": true
  },
  "typeName": "Volcengine::VEDBM::Instance",
  "writeOnlyProperties": [
    "/properties/TemplateId",
    "/properties/SuperAccountName",
    "/properties/SuperAccountPassword",
    "/properties/ChargeDetail/Period",
    "/properties/ChargeDetail/PeriodUnit",
    "/properties/Port",
    "/properties/Number",
    "/properties/NodeNumber",
    "/properties/NodeSpec"
  ]
}